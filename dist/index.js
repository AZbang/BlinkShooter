(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
const Level = require('./states/Level.js');

class Boot {
	constructor(game) {
		this.game = game;
	}

	preload() {
		this.load.tilemap('map', '../assets/levels/test/level.json', null, Phaser.Tilemap.TILED_JSON);
		this.load.image('tilemap', '../assets/levels/tilemap.png');
		this.load.image('bg', '../assets/bg.png');
		this.load.image('person1', '../assets/_/characters/example.png');

		this.load.atlas('heads', 'assets/atlases/heads.png', 'assets/atlases/heads.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('bodies', 'assets/atlases/bodies.png', 'assets/atlases/bodies.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('attachToBody', 'assets/atlases/attachToBody.png', 'assets/atlases/attachToBody.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('weapons', 'assets/atlases/weapons.png', 'assets/atlases/weapons.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('items', 'assets/atlases/items.png', 'assets/atlases/items.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('bullets', 'assets/atlases/bullets.png', 'assets/atlases/bullets.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
	}

	create() {
		this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
		this.game.scale.fullScreenScaleMode = Phaser.ScaleManager.EXACT_FIT;
		this.game.scale.pageAlignHorizontally = true;
		this.game.scale.pageAlignVertically = true;
		this.game.scale.setMaximum();

		this.game.renderer.renderSession.roundPixels = true;
		Phaser.Canvas.setImageRenderingCrisp(this.game.canvas);

		this.game.physics.startSystem(Phaser.Physics.ARCADE);

		this.level = new Level(this);
	}

	update() {
		this.level.update();
	}
}

module.exports = Boot;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJvb3QuanMiXSwibmFtZXMiOlsiTGV2ZWwiLCJyZXF1aXJlIiwiQm9vdCIsImNvbnN0cnVjdG9yIiwiZ2FtZSIsInByZWxvYWQiLCJsb2FkIiwidGlsZW1hcCIsIlBoYXNlciIsIlRpbGVtYXAiLCJUSUxFRF9KU09OIiwiaW1hZ2UiLCJhdGxhcyIsIkxvYWRlciIsIlRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIIiwiY3JlYXRlIiwic2NhbGUiLCJzY2FsZU1vZGUiLCJTY2FsZU1hbmFnZXIiLCJTSE9XX0FMTCIsImZ1bGxTY3JlZW5TY2FsZU1vZGUiLCJFWEFDVF9GSVQiLCJwYWdlQWxpZ25Ib3Jpem9udGFsbHkiLCJwYWdlQWxpZ25WZXJ0aWNhbGx5Iiwic2V0TWF4aW11bSIsInJlbmRlcmVyIiwicmVuZGVyU2Vzc2lvbiIsInJvdW5kUGl4ZWxzIiwiQ2FudmFzIiwic2V0SW1hZ2VSZW5kZXJpbmdDcmlzcCIsImNhbnZhcyIsInBoeXNpY3MiLCJzdGFydFN5c3RlbSIsIlBoeXNpY3MiLCJBUkNBREUiLCJsZXZlbCIsInVwZGF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVFDLFFBQVEsbUJBQVIsQ0FBZDs7QUFFQSxNQUFNQyxJQUFOLENBQVc7QUFDVkMsYUFBWUMsSUFBWixFQUFrQjtBQUNqQixPQUFLQSxJQUFMLEdBQVlBLElBQVo7QUFDQTs7QUFFREMsV0FBVTtBQUNULE9BQUtDLElBQUwsQ0FBVUMsT0FBVixDQUFrQixLQUFsQixFQUF5QixrQ0FBekIsRUFBNkQsSUFBN0QsRUFBbUVDLE9BQU9DLE9BQVAsQ0FBZUMsVUFBbEY7QUFDQSxPQUFLSixJQUFMLENBQVVLLEtBQVYsQ0FBZ0IsU0FBaEIsRUFBMkIsOEJBQTNCO0FBQ0EsT0FBS0wsSUFBTCxDQUFVSyxLQUFWLENBQWdCLElBQWhCLEVBQXNCLGtCQUF0QjtBQUNBLE9BQUtMLElBQUwsQ0FBVUssS0FBVixDQUFnQixTQUFoQixFQUEyQixvQ0FBM0I7O0FBRUEsT0FBS0wsSUFBTCxDQUFVTSxLQUFWLENBQWdCLE9BQWhCLEVBQXlCLDBCQUF6QixFQUFxRCwyQkFBckQsRUFBa0ZKLE9BQU9LLE1BQVAsQ0FBY0MsdUJBQWhHO0FBQ0EsT0FBS1IsSUFBTCxDQUFVTSxLQUFWLENBQWdCLFFBQWhCLEVBQTBCLDJCQUExQixFQUF1RCw0QkFBdkQsRUFBcUZKLE9BQU9LLE1BQVAsQ0FBY0MsdUJBQW5HO0FBQ0EsT0FBS1IsSUFBTCxDQUFVTSxLQUFWLENBQWdCLGNBQWhCLEVBQWdDLGlDQUFoQyxFQUFtRSxrQ0FBbkUsRUFBdUdKLE9BQU9LLE1BQVAsQ0FBY0MsdUJBQXJIO0FBQ0EsT0FBS1IsSUFBTCxDQUFVTSxLQUFWLENBQWdCLFNBQWhCLEVBQTJCLDRCQUEzQixFQUF5RCw2QkFBekQsRUFBd0ZKLE9BQU9LLE1BQVAsQ0FBY0MsdUJBQXRHO0FBQ0EsT0FBS1IsSUFBTCxDQUFVTSxLQUFWLENBQWdCLE9BQWhCLEVBQXlCLDBCQUF6QixFQUFxRCwyQkFBckQsRUFBa0ZKLE9BQU9LLE1BQVAsQ0FBY0MsdUJBQWhHO0FBQ0EsT0FBS1IsSUFBTCxDQUFVTSxLQUFWLENBQWdCLFNBQWhCLEVBQTJCLDRCQUEzQixFQUF5RCw2QkFBekQsRUFBd0ZKLE9BQU9LLE1BQVAsQ0FBY0MsdUJBQXRHO0FBQ0E7O0FBRURDLFVBQVM7QUFDUixPQUFLWCxJQUFMLENBQVVZLEtBQVYsQ0FBZ0JDLFNBQWhCLEdBQTRCVCxPQUFPVSxZQUFQLENBQW9CQyxRQUFoRDtBQUNBLE9BQUtmLElBQUwsQ0FBVVksS0FBVixDQUFnQkksbUJBQWhCLEdBQXNDWixPQUFPVSxZQUFQLENBQW9CRyxTQUExRDtBQUNBLE9BQUtqQixJQUFMLENBQVVZLEtBQVYsQ0FBZ0JNLHFCQUFoQixHQUF3QyxJQUF4QztBQUNBLE9BQUtsQixJQUFMLENBQVVZLEtBQVYsQ0FBZ0JPLG1CQUFoQixHQUFzQyxJQUF0QztBQUNBLE9BQUtuQixJQUFMLENBQVVZLEtBQVYsQ0FBZ0JRLFVBQWhCOztBQUVBLE9BQUtwQixJQUFMLENBQVVxQixRQUFWLENBQW1CQyxhQUFuQixDQUFpQ0MsV0FBakMsR0FBK0MsSUFBL0M7QUFDQW5CLFNBQU9vQixNQUFQLENBQWNDLHNCQUFkLENBQXFDLEtBQUt6QixJQUFMLENBQVUwQixNQUEvQzs7QUFFQSxPQUFLMUIsSUFBTCxDQUFVMkIsT0FBVixDQUFrQkMsV0FBbEIsQ0FBOEJ4QixPQUFPeUIsT0FBUCxDQUFlQyxNQUE3Qzs7QUFFQSxPQUFLQyxLQUFMLEdBQWEsSUFBSW5DLEtBQUosQ0FBVSxJQUFWLENBQWI7QUFDQTs7QUFFRG9DLFVBQVM7QUFDUixPQUFLRCxLQUFMLENBQVdDLE1BQVg7QUFDQTtBQXBDUzs7QUF1Q1hDLE9BQU9DLE9BQVAsR0FBaUJwQyxJQUFqQiIsImZpbGUiOiJCb290LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTGV2ZWwgPSByZXF1aXJlKCcuL3N0YXRlcy9MZXZlbC5qcycpO1xyXG5cclxuY2xhc3MgQm9vdCB7XHJcblx0Y29uc3RydWN0b3IoZ2FtZSkge1xyXG5cdFx0dGhpcy5nYW1lID0gZ2FtZTtcclxuXHR9XHJcblxyXG5cdHByZWxvYWQoKSB7XHJcblx0XHR0aGlzLmxvYWQudGlsZW1hcCgnbWFwJywgJy4uL2Fzc2V0cy9sZXZlbHMvdGVzdC9sZXZlbC5qc29uJywgbnVsbCwgUGhhc2VyLlRpbGVtYXAuVElMRURfSlNPTik7XHJcblx0XHR0aGlzLmxvYWQuaW1hZ2UoJ3RpbGVtYXAnLCAnLi4vYXNzZXRzL2xldmVscy90aWxlbWFwLnBuZycpO1xyXG5cdFx0dGhpcy5sb2FkLmltYWdlKCdiZycsICcuLi9hc3NldHMvYmcucG5nJyk7XHJcblx0XHR0aGlzLmxvYWQuaW1hZ2UoJ3BlcnNvbjEnLCAnLi4vYXNzZXRzL18vY2hhcmFjdGVycy9leGFtcGxlLnBuZycpO1xyXG5cclxuXHRcdHRoaXMubG9hZC5hdGxhcygnaGVhZHMnLCAnYXNzZXRzL2F0bGFzZXMvaGVhZHMucG5nJywgJ2Fzc2V0cy9hdGxhc2VzL2hlYWRzLmpzb24nLCBQaGFzZXIuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIKTtcclxuXHRcdHRoaXMubG9hZC5hdGxhcygnYm9kaWVzJywgJ2Fzc2V0cy9hdGxhc2VzL2JvZGllcy5wbmcnLCAnYXNzZXRzL2F0bGFzZXMvYm9kaWVzLmpzb24nLCBQaGFzZXIuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIKTtcclxuXHRcdHRoaXMubG9hZC5hdGxhcygnYXR0YWNoVG9Cb2R5JywgJ2Fzc2V0cy9hdGxhc2VzL2F0dGFjaFRvQm9keS5wbmcnLCAnYXNzZXRzL2F0bGFzZXMvYXR0YWNoVG9Cb2R5Lmpzb24nLCBQaGFzZXIuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIKTtcclxuXHRcdHRoaXMubG9hZC5hdGxhcygnd2VhcG9ucycsICdhc3NldHMvYXRsYXNlcy93ZWFwb25zLnBuZycsICdhc3NldHMvYXRsYXNlcy93ZWFwb25zLmpzb24nLCBQaGFzZXIuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIKTtcclxuXHRcdHRoaXMubG9hZC5hdGxhcygnaXRlbXMnLCAnYXNzZXRzL2F0bGFzZXMvaXRlbXMucG5nJywgJ2Fzc2V0cy9hdGxhc2VzL2l0ZW1zLmpzb24nLCBQaGFzZXIuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIKTtcclxuXHRcdHRoaXMubG9hZC5hdGxhcygnYnVsbGV0cycsICdhc3NldHMvYXRsYXNlcy9idWxsZXRzLnBuZycsICdhc3NldHMvYXRsYXNlcy9idWxsZXRzLmpzb24nLCBQaGFzZXIuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIKTtcclxuXHR9XHJcblxyXG5cdGNyZWF0ZSgpIHtcclxuXHRcdHRoaXMuZ2FtZS5zY2FsZS5zY2FsZU1vZGUgPSBQaGFzZXIuU2NhbGVNYW5hZ2VyLlNIT1dfQUxMO1xyXG5cdFx0dGhpcy5nYW1lLnNjYWxlLmZ1bGxTY3JlZW5TY2FsZU1vZGUgPSBQaGFzZXIuU2NhbGVNYW5hZ2VyLkVYQUNUX0ZJVDtcclxuXHRcdHRoaXMuZ2FtZS5zY2FsZS5wYWdlQWxpZ25Ib3Jpem9udGFsbHkgPSB0cnVlO1xyXG5cdFx0dGhpcy5nYW1lLnNjYWxlLnBhZ2VBbGlnblZlcnRpY2FsbHkgPSB0cnVlO1xyXG5cdFx0dGhpcy5nYW1lLnNjYWxlLnNldE1heGltdW0oKTtcclxuXHJcblx0XHR0aGlzLmdhbWUucmVuZGVyZXIucmVuZGVyU2Vzc2lvbi5yb3VuZFBpeGVscyA9IHRydWU7XHJcblx0XHRQaGFzZXIuQ2FudmFzLnNldEltYWdlUmVuZGVyaW5nQ3Jpc3AodGhpcy5nYW1lLmNhbnZhcyk7XHJcblxyXG5cdFx0dGhpcy5nYW1lLnBoeXNpY3Muc3RhcnRTeXN0ZW0oUGhhc2VyLlBoeXNpY3MuQVJDQURFKTtcclxuXHJcblx0XHR0aGlzLmxldmVsID0gbmV3IExldmVsKHRoaXMpO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKCkge1xyXG5cdFx0dGhpcy5sZXZlbC51cGRhdGUoKTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQm9vdDsiXX0=
},{"./states/Level.js":6}],2:[function(require,module,exports){
const entities = require('./entities.json');

class Entity {
	constructor(game, x, y, type) {
		this.type = type;
		this.game = game;

		this.x = x != null ? x : 0;
		this.y = y != null ? y : 0;

		this._entity = entities[type];

		this.hp = this._entity.hp != null ? this._entity.hp : 10;
		this.jumping = this._entity.jump != null ? this._entity.jump : 2;
		this.speed = this._entity.speed != null ? this._entity.speed : 100;
		this.isJumping = false;
		this.isDead = false;

		this.headId = this._entity.head != null ? this._entity.head : 0;
		this.bodyId = this._entity.body != null ? this._entity.body : 0;
		this.weaponId = this._entity.weapon != null ? this._entity.weapon : 0;

		this._createPhaserObjects();
	}

	_createPhaserObjects() {
		this.sprite = this.game.add.sprite(this.x, this.y, 'bodies', this.bodyId);
		this.sprite.anchor.set(0.5);
		this.sprite.smoothed = false;

		this.head = this.game.make.sprite(-12, -7, 'heads', this.headId);
		this.head.smoothed = false;
		this.sprite.addChild(this.head);

		this.attachToBody = this.game.make.sprite(3.5, -4, 'attachToBody', this.weaponId);
		this.attachToBody.smoothed = false;
		this.sprite.addChild(this.attachToBody);

		this.weapon = this.game.add.weapon(10, 'bullets');
		this.weapon.setBulletFrames(this.weaponId, this.weaponId, true);
		this.weapon.bulletKillType = Phaser.Weapon.KILL_WORLD_BOUNDS;
		this.weapon.bulletSpeed = 400;
		this.weapon.fireRate = 50;
		this.weapon.trackSprite(this.sprite, 16, 4, true);
	}

	fire() {
		let bullet = this.weapon.fire();

		if (bullet) {
			this.sprite.body.angularVelocity = -400;
			this.game.physics.arcade.accelerationFromRotation(this.sprite.rotation, 300, this.sprite.body.acceleration);
			bullet.smoothed = false;
			bullet.scale.setTo(this.sprite.scale.x / 2, this.sprite.scale.y / 2);
			return bullet.body.updateBounds();
		}
	}

	jump(power) {
		this.isJumping = true;

		let tweenUp = this.game.add.tween(this.sprite.scale).to({
			x: power,
			y: power
		}, 300, Phaser.Easing.Quadratic.Out, true);

		tweenUp.onComplete.add(() => {
			this.sprite.body.updateBounds();

			let tweenDown = this.game.add.tween(this.sprite.scale).to({
				x: 1,
				y: 1
			}, 300, Phaser.Easing.Quintic.In, true);

			tweenDown.onComplete.add(() => {
				this.isJumping = false;
				this.weapon.trackSprite(this.sprite, 16 * this.sprite.scale.x, 4 * this.sprite.scale.y, true);
			}, this);
		}, this);
	}

	fallDead() {
		this.isDead = true;
		this.game.add.tween(this.sprite.scale).to({
			x: 0,
			y: 0
		}, 300, Phaser.Easing.Quadratic.In, true);
	}
}

module.exports = Entity;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVudGl0eS5qcyJdLCJuYW1lcyI6WyJlbnRpdGllcyIsInJlcXVpcmUiLCJFbnRpdHkiLCJjb25zdHJ1Y3RvciIsImdhbWUiLCJ4IiwieSIsInR5cGUiLCJfZW50aXR5IiwiaHAiLCJqdW1waW5nIiwianVtcCIsInNwZWVkIiwiaXNKdW1waW5nIiwiaXNEZWFkIiwiaGVhZElkIiwiaGVhZCIsImJvZHlJZCIsImJvZHkiLCJ3ZWFwb25JZCIsIndlYXBvbiIsIl9jcmVhdGVQaGFzZXJPYmplY3RzIiwic3ByaXRlIiwiYWRkIiwiYW5jaG9yIiwic2V0Iiwic21vb3RoZWQiLCJtYWtlIiwiYWRkQ2hpbGQiLCJhdHRhY2hUb0JvZHkiLCJzZXRCdWxsZXRGcmFtZXMiLCJidWxsZXRLaWxsVHlwZSIsIlBoYXNlciIsIldlYXBvbiIsIktJTExfV09STERfQk9VTkRTIiwiYnVsbGV0U3BlZWQiLCJmaXJlUmF0ZSIsInRyYWNrU3ByaXRlIiwiZmlyZSIsImJ1bGxldCIsImFuZ3VsYXJWZWxvY2l0eSIsInBoeXNpY3MiLCJhcmNhZGUiLCJhY2NlbGVyYXRpb25Gcm9tUm90YXRpb24iLCJyb3RhdGlvbiIsImFjY2VsZXJhdGlvbiIsInNjYWxlIiwic2V0VG8iLCJ1cGRhdGVCb3VuZHMiLCJwb3dlciIsInR3ZWVuVXAiLCJ0d2VlbiIsInRvIiwiRWFzaW5nIiwiUXVhZHJhdGljIiwiT3V0Iiwib25Db21wbGV0ZSIsInR3ZWVuRG93biIsIlF1aW50aWMiLCJJbiIsImZhbGxEZWFkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsV0FBV0MsUUFBUSxpQkFBUixDQUFqQjs7QUFFQSxNQUFNQyxNQUFOLENBQWE7QUFDWkMsYUFBWUMsSUFBWixFQUFrQkMsQ0FBbEIsRUFBcUJDLENBQXJCLEVBQXdCQyxJQUF4QixFQUE4QjtBQUM3QixPQUFLQSxJQUFMLEdBQVlBLElBQVo7QUFDQSxPQUFLSCxJQUFMLEdBQVlBLElBQVo7O0FBRUEsT0FBS0MsQ0FB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SVMsWUFBWSxLQUFLckQsSUFBTCxDQUFVbUIsR0FBVixDQUFjNEIsS0FBZCxDQUFvQixLQUFLN0IsTUFBTCxDQUFZd0IsS0FBaEMsRUFBdUNNLEVBQXZDLENBQTBDO0FBQ3pEL0MsT0FBRyxDQURzRDtBQUV6REMsT0FBRztBQUZzRCxJQUExQyxFQUdiLEdBSGEsRUFHUjBCLE9BQU9xQixNQUFQLENBQWNLLE9BQWQsQ0FBc0JDLEVBSGQsRUFHa0IsSUFIbEIsQ0FBaEI7O0FBTUFGLGFBQVVELFVBQVYsQ0FBcUJqQyxHQUFyQixDQUF5QixNQUFNO0FBQzlCLFNBQUtWLFNBQUwsR0FBaUIsS0FBakI7QUFDQSxTQUFLTyxNQUFMLENBQVlpQixXQUFaLENBQXdCLEtBQUtmLE1BQTdCLEVBQXFDLEtBQUcsS0FBS0EsTUFBTCxDQUFZd0IsS0FBWixDQUFrQnpDLENBQTFELEVBQTZELElBQUUsS0FBS2lCLE1BQUwsQ0FBWXdCLEtBQVosQ0FBa0J4QyxDQUFqRixFQUFvRixJQUFwRjtBQUNBLElBSEQsRUFHRyxJQUhIO0FBS0EsR0FkRCxFQWNHLElBZEg7QUFlQTs7QUFFRHNELFlBQVc7QUFDVixPQUFLOUMsTUFBTCxHQUFjLElBQWQ7QUFDQSxPQUFLVixJQUFMLENBQVVtQixHQUFWLENBQWM0QixLQUFkLENBQW9CLEtBQUs3QixNQUFMLENBQVl3QixLQUFoQyxFQUF1Q00sRUFBdkMsQ0FBMEM7QUFDekMvQyxNQUFHLENBRHNDO0FBRXpDQyxNQUFHO0FBRnNDLEdBQTFDLEVBR0csR0FISCxFQUdRMEIsT0FBT3FCLE1BQVAsQ0FBY0MsU0FBZCxDQUF3QkssRUFIaEMsRUFHb0MsSUFIcEM7QUFJQTtBQXZGVzs7QUEwRmJFLE9BQU9DLE9BQVAsR0FBaUI1RCxNQUFqQiIsImZpbGUiOiJFbnRpdHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlbnRpdGllcyA9IHJlcXVpcmUoJy4vZW50aXRpZXMuanNvbicpO1xyXG5cclxuY2xhc3MgRW50aXR5IHtcclxuXHRjb25zdHJ1Y3RvcihnYW1lLCB4LCB5LCB0eXBlKSB7XHJcblx0XHR0aGlzLnR5cGUgPSB0eXBlO1xyXG5cdFx0dGhpcy5nYW1lID0gZ2FtZTtcclxuXHJcblx0XHR0aGlzLnggPSB4ICE9IG51bGwgPyB4IDogMDtcclxuXHRcdHRoaXMueSA9IHkgIT0gbnVsbCA/IHkgOiAwO1xyXG5cclxuXHRcdHRoaXMuX2VudGl0eSA9IGVudGl0aWVzW3R5cGVdO1xyXG5cclxuXHRcdHRoaXMuaHAgPSB0aGlzLl9lbnRpdHkuaHAgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5ocCA6IDEwO1xyXG5cdFx0dGhpcy5qdW1waW5nID0gdGhpcy5fZW50aXR5Lmp1bXAgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5qdW1wIDogMjtcclxuXHRcdHRoaXMuc3BlZWQgPSB0aGlzLl9lbnRpdHkuc3BlZWQgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5zcGVlZCA6IDEwMDtcclxuXHRcdHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzRGVhZCA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuaGVhZElkID0gdGhpcy5fZW50aXR5LmhlYWQgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5oZWFkIDogMDtcclxuXHRcdHRoaXMuYm9keUlkID0gdGhpcy5fZW50aXR5LmJvZHkgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5ib2R5IDogMDtcclxuXHRcdHRoaXMud2VhcG9uSWQgPSB0aGlzLl9lbnRpdHkud2VhcG9uICE9IG51bGwgPyB0aGlzLl9lbnRpdHkud2VhcG9uIDogMDtcclxuXHJcblx0XHR0aGlzLl9jcmVhdGVQaGFzZXJPYmplY3RzKCk7XHJcblx0fVxyXG5cclxuXHRfY3JlYXRlUGhhc2VyT2JqZWN0cygpIHtcclxuXHRcdHRoaXMuc3ByaXRlID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUodGhpcy54LCB0aGlzLnksICdib2RpZXMnLCB0aGlzLmJvZHlJZCk7XHJcblx0XHR0aGlzLnNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7XHJcblx0XHR0aGlzLnNwcml0ZS5zbW9vdGhlZCA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuaGVhZCA9IHRoaXMuZ2FtZS5tYWtlLnNwcml0ZSgtMTIsIC03LCAnaGVhZHMnLCB0aGlzLmhlYWRJZCk7XHJcblx0XHR0aGlzLmhlYWQuc21vb3RoZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuc3ByaXRlLmFkZENoaWxkKHRoaXMuaGVhZCk7XHJcblxyXG5cdFx0dGhpcy5hdHRhY2hUb0JvZHkgPSB0aGlzLmdhbWUubWFrZS5zcHJpdGUoMy41LCAtNCwgJ2F0dGFjaFRvQm9keScsIHRoaXMud2VhcG9uSWQpO1xyXG5cdFx0dGhpcy5hdHRhY2hUb0JvZHkuc21vb3RoZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuc3ByaXRlLmFkZENoaWxkKHRoaXMuYXR0YWNoVG9Cb2R5KTtcdFxyXG5cclxuXHRcdHRoaXMud2VhcG9uID0gdGhpcy5nYW1lLmFkZC53ZWFwb24oMTAsICdidWxsZXRzJyk7XHJcblx0XHR0aGlzLndlYXBvbi5zZXRCdWxsZXRGcmFtZXModGhpcy53ZWFwb25JZCwgdGhpcy53ZWFwb25JZCwgdHJ1ZSk7XHJcblx0XHR0aGlzLndlYXBvbi5idWxsZXRLaWxsVHlwZSA9IFBoYXNlci5XZWFwb24uS0lMTF9XT1JMRF9CT1VORFM7XHJcblx0XHR0aGlzLndlYXBvbi5idWxsZXRTcGVlZCA9IDQwMDtcclxuXHRcdHRoaXMud2VhcG9uLmZpcmVSYXRlID0gNTA7XHJcblx0XHR0aGlzLndlYXBvbi50cmFja1Nwcml0ZSh0aGlzLnNwcml0ZSwgMTYsIDQsIHRydWUpO1xyXG5cdH1cclxuXHJcblx0ZmlyZSgpIHtcclxuXHRcdGxldCBidWxsZXQgPSB0aGlzLndlYXBvbi5maXJlKCk7XHJcblxyXG5cdFx0aWYoYnVsbGV0KSB7XHJcblx0XHRcdHRoaXMuc3ByaXRlLmJvZHkuYW5ndWxhclZlbG9jaXR5ID0gLTQwMDtcclxuXHRcdFx0dGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLmFjY2VsZXJhdGlvbkZyb21Sb3RhdGlvbih0aGlzLnNwcml0ZS5yb3RhdGlvbiwgMzAwLCB0aGlzLnNwcml0ZS5ib2R5LmFjY2VsZXJhdGlvbik7XHJcblx0XHRcdGJ1bGxldC5zbW9vdGhlZCA9IGZhbHNlO1xyXG5cdFx0XHRidWxsZXQuc2NhbGUuc2V0VG8odGhpcy5zcHJpdGUuc2NhbGUueC8yLCB0aGlzLnNwcml0ZS5zY2FsZS55LzIpO1xyXG5cdFx0XHRyZXR1cm4gKGJ1bGxldC5ib2R5LnVwZGF0ZUJvdW5kcykoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGp1bXAocG93ZXIpIHtcclxuXHRcdHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuXHJcblx0XHRsZXQgdHdlZW5VcCA9IHRoaXMuZ2FtZS5hZGQudHdlZW4odGhpcy5zcHJpdGUuc2NhbGUpLnRvKHtcclxuXHRcdFx0eDogcG93ZXIsIFxyXG5cdFx0XHR5OiBwb3dlclxyXG5cdFx0fSwgMzAwLCBQaGFzZXIuRWFzaW5nLlF1YWRyYXRpYy5PdXQsIHRydWUpO1xyXG5cclxuXHRcdHR3ZWVuVXAub25Db21wbGV0ZS5hZGQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnNwcml0ZS5ib2R5LnVwZGF0ZUJvdW5kcygpO1xyXG5cclxuXHRcdFx0bGV0IHR3ZWVuRG93biA9IHRoaXMuZ2FtZS5hZGQudHdlZW4odGhpcy5zcHJpdGUuc2NhbGUpLnRvKHtcclxuXHRcdFx0XHR4OiAxLFxyXG5cdFx0XHRcdHk6IDFcclxuXHRcdFx0fSwgMzAwLCBQaGFzZXIuRWFzaW5nLlF1aW50aWMuSW4sIHRydWUpO1xyXG5cclxuXHJcblx0XHRcdHR3ZWVuRG93bi5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLndlYXBvbi50cmFja1Nwcml0ZSh0aGlzLnNwcml0ZSwgMTYqdGhpcy5zcHJpdGUuc2NhbGUueCwgNCp0aGlzLnNwcml0ZS5zY2FsZS55LCB0cnVlKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHRcdFx0XHRcclxuXHRcdH0sIHRoaXMpO1xyXG5cdH1cclxuXHJcblx0ZmFsbERlYWQoKSB7XHJcblx0XHR0aGlzLmlzRGVhZCA9IHRydWU7XHJcblx0XHR0aGlzLmdhbWUuYWRkLnR3ZWVuKHRoaXMuc3ByaXRlLnNjYWxlKS50byh7XHJcblx0XHRcdHg6IDAsIFxyXG5cdFx0XHR5OiAwXHJcblx0XHR9LCAzMDAsIFBoYXNlci5FYXNpbmcuUXVhZHJhdGljLkluLCB0cnVlKTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRW50aXR5OyJdfQ==
},{"./entities.json":4}],3:[function(require,module,exports){
const Entity = require('./Entity.js');

class Player extends Entity {
	constructor(game, x, y) {
		super(game, x, y, 'player');

		this.game.physics.arcade.enable(this.sprite);
		this.game.camera.follow(this.sprite, Phaser.Camera.FOLLOW_LOCKON, 0.1, 0.1);

		this.sprite.body.drag.set(150);
		this.sprite.body.maxVelocity.set(100);
		this.sprite.syncBounds = true;

		this.cursors = this.game.input.keyboard.createCursorKeys();
		this.jumpButton = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
		this.fireButton = this.game.input.keyboard.addKey(Phaser.Keyboard.Z);
	}

	update() {
		if (this.isDead) return;

		this.game.physics.arcade.collide(this.sprite, this.game.level.layerMap);

		if (this.isJumping) this.weapon.trackSprite(this.sprite, 16 * this.sprite.scale.x, 4 * this.sprite.scale.y, true);

		if (this.cursors.up.isDown) this.game.physics.arcade.accelerationFromRotation(this.sprite.rotation, 300, this.sprite.body.acceleration);else this.sprite.body.acceleration.set(0);

		if (this.cursors.left.isDown) this.sprite.body.angularVelocity = -300;else if (this.cursors.right.isDown) this.sprite.body.angularVelocity = 300;else this.sprite.body.angularVelocity = 0;

		if (this.fireButton.isDown) this.fire();

		if (this.jumpButton.isDown && !this.isJumping) {
			this.jump(this.jumping);
		}

		if (!this.isJumping) {
			for (let i = 0; i < this.game.level.deadRects.length; i++) {
				let rect = this.game.level.deadRects[i];

				let pl = new Phaser.Rectangle(this.sprite.body.x, this.sprite.body.y, this.sprite.body.width, this.sprite.body.height);
				if (Phaser.Rectangle.intersects(rect, pl)) {
					this.sprite.body.acceleration.set(0);
					this.fallDead();
					return;
				}
			}
		}
	}
}

module.exports = Player;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXllci5qcyJdLCJuYW1lcyI6WyJFbnRpdHkiLCJyZXF1aXJlIiwiUGxheWVyIiwiY29uc3RydWN0b3IiLCJnYW1lIiwieCIsInkiLCJwaHlzaWNzIiwiYXJjYWRlIiwiZW5hYmxlIiwic3ByaXRlIiwiY2FtZXJhIiwiZm9sbG93IiwiUGhhc2VyIiwiQ2FtZXJhIiwiRk9MTE9XX0xPQ0tPTiIsImJvZHkiLCJkcmFnIiwic2V0IiwibWF4VmVsb2NpdHkiLCJzeW5jQm91bmRzIiwiY3Vyc29ycyIsImlucHV0Iiwia2V5Ym9hcmQiLCJjcmVhdGVDdXJzb3JLZXlzIiwianVtcEJ1dHRvbiIsImFkZEtleSIsIktleWJvYXJkIiwiU1BBQ0VCQVIiLCJmaXJlQnV0dG9uIiwiWiIsInVwZGF0ZSIsImlzRGVhZCIsImNvbGxpZGUiLCJsZXZlbCIsImxheWVyTWFwIiwiaXNKdW1waW5nIiwid2VhcG9uIiwidHJhY2tTcHJpdGUiLCJzY2FsZSIsInVwIiwiaXNEb3duIiwiYWNjZWxlcmF0aW9uRnJvbVJvdGF0aW9uIiwicm90YXRpb24iLCJhY2NlbGVyYXRpb24iLCJsZWZ0IiwiYW5ndWxhclZlbG9jaXR5IiwicmlnaHQiLCJmaXJlIiwianVtcCIsImp1bXBpbmciLCJpIiwiZGVhZFJlY3RzIiwibGVuZ3RoIiwicmVjdCIsInBsIiwiUmVjdGFuZ2xlIiwid2lkdGgiLCJoZWlnaHQiLCJpbnRlcnNlY3RzIiwiZmFsbERlYWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxTQUFTQyxRQUFRLGFBQVIsQ0FBZjs7QUFFQSxNQUFNQyxNQUFOLFNBQXFCRixNQUFyQixDQUE0QjtBQUMzQkcsYUFBWUMsSUFBWixFQUFrQkMsQ0FBbEIsRUFBcUJDLENBQXJCLEVBQXdCO0FBQ3ZCLFFBQU1GLElBQU4sRUFBWUMsQ0FBWixFQUFlQyxDQUFmLEVBQWtCLFFBQWxCOztBQUVBLE9BQUtGLElBQUwsQ0FBVUcsT0FBVixDQUFrQkMsTUFBbEIsQ0FBeUJD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Q0FBVThCLEtBQVYsQ0FBZ0JrQixTQUFoQixDQUEwQkQsQ0FBMUIsQ0FBWDs7QUFFQSxRQUFJSSxLQUFLLElBQUkxQyxPQUFPMkMsU0FBWCxDQUFxQixLQUFLOUMsTUFBTCxDQUFZTSxJQUFaLENBQWlCWCxDQUF0QyxFQUF5QyxLQUFLSyxNQUFMLENBQVlNLElBQVosQ0FBaUJWLENBQTFELEVBQTZELEtBQUtJLE1BQUwsQ0FBWU0sSUFBWixDQUFpQnlDLEtBQTlFLEVBQXFGLEtBQUsvQyxNQUFMLENBQVlNLElBQVosQ0FBaUIwQyxNQUF0RyxDQUFUO0FBQ0EsUUFBRzdDLE9BQU8yQyxTQUFQLENBQWlCRyxVQUFqQixDQUE0QkwsSUFBNUIsRUFBa0NDLEVBQWxDLENBQUgsRUFBMEM7QUFDekMsVUFBSzdDLE1BQUwsQ0FBWU0sSUFBWixDQUFpQjRCLFlBQWpCLENBQThCMUIsR0FBOUIsQ0FBa0MsQ0FBbEM7QUFDQSxVQUFLMEMsUUFBTDtBQUNBO0FBQ0E7QUFDRDtBQUNEO0FBQ0Q7QUF4RDBCOztBQTJENUJDLE9BQU9DLE9BQVAsR0FBaUI1RCxNQUFqQiIsImZpbGUiOiJQbGF5ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBFbnRpdHkgPSByZXF1aXJlKCcuL0VudGl0eS5qcycpO1xyXG5cclxuY2xhc3MgUGxheWVyIGV4dGVuZHMgRW50aXR5IHtcclxuXHRjb25zdHJ1Y3RvcihnYW1lLCB4LCB5KSB7XHJcblx0XHRzdXBlcihnYW1lLCB4LCB5LCAncGxheWVyJyk7XHJcblxyXG5cdFx0dGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLmVuYWJsZSh0aGlzLnNwcml0ZSk7XHJcblx0XHR0aGlzLmdhbWUuY2FtZXJhLmZvbGxvdyh0aGlzLnNwcml0ZSwgUGhhc2VyLkNhbWVyYS5GT0xMT1dfTE9DS09OICwgMC4xLCAwLjEpO1xyXG5cclxuXHRcdHRoaXMuc3ByaXRlLmJvZHkuZHJhZy5zZXQoMTUwKTtcclxuXHRcdHRoaXMuc3ByaXRlLmJvZHkubWF4VmVsb2NpdHkuc2V0KDEwMCk7XHJcblx0XHR0aGlzLnNwcml0ZS5zeW5jQm91bmRzID0gdHJ1ZTtcclxuXHJcblx0XHR0aGlzLmN1cnNvcnMgPSB0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuY3JlYXRlQ3Vyc29yS2V5cygpO1xyXG5cdFx0dGhpcy5qdW1wQnV0dG9uID0gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuS2V5Ym9hcmQuU1BBQ0VCQVIpO1xyXG5cdFx0dGhpcy5maXJlQnV0dG9uID0gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuS2V5Ym9hcmQuWik7XHJcblx0fVxyXG5cclxuXHR1cGRhdGUoKSB7XHJcblx0XHRpZih0aGlzLmlzRGVhZCkgcmV0dXJuO1xyXG5cclxuXHRcdHRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5jb2xsaWRlKHRoaXMuc3ByaXRlLCB0aGlzLmdhbWUubGV2ZWwubGF5ZXJNYXApO1xyXG5cclxuXHRcdGlmKHRoaXMuaXNKdW1waW5nKVxyXG5cdFx0XHR0aGlzLndlYXBvbi50cmFja1Nwcml0ZSh0aGlzLnNwcml0ZSwgMTYqdGhpcy5zcHJpdGUuc2NhbGUueCwgNCp0aGlzLnNwcml0ZS5zY2FsZS55LCB0cnVlKTtcclxuXHJcblx0XHRpZih0aGlzLmN1cnNvcnMudXAuaXNEb3duKVxyXG5cdFx0XHR0aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUuYWNjZWxlcmF0aW9uRnJvbVJvdGF0aW9uKHRoaXMuc3ByaXRlLnJvdGF0aW9uLCAzMDAsIHRoaXMuc3ByaXRlLmJvZHkuYWNjZWxlcmF0aW9uKTtcclxuXHJcblx0XHRlbHNlIHRoaXMuc3ByaXRlLmJvZHkuYWNjZWxlcmF0aW9uLnNldCgwKTtcclxuXHJcblx0XHRpZih0aGlzLmN1cnNvcnMubGVmdC5pc0Rvd24pXHJcblx0XHRcdHRoaXMuc3ByaXRlLmJvZHkuYW5ndWxhclZlbG9jaXR5ID0gLTMwMDtcclxuXHJcblx0XHRlbHNlIGlmKHRoaXMuY3Vyc29ycy5yaWdodC5pc0Rvd24pXHJcblx0XHRcdHRoaXMuc3ByaXRlLmJvZHkuYW5ndWxhclZlbG9jaXR5ID0gMzAwO1xyXG5cclxuXHRcdGVsc2UgdGhpcy5zcHJpdGUuYm9keS5hbmd1bGFyVmVsb2NpdHkgPSAwO1xyXG5cclxuXHRcdGlmKHRoaXMuZmlyZUJ1dHRvbi5pc0Rvd24pXHJcblx0XHRcdHRoaXMuZmlyZSgpO1xyXG5cclxuXHRcdGlmKHRoaXMuanVtcEJ1dHRvbi5pc0Rvd24gJiYgIXRoaXMuaXNKdW1waW5nKSB7XHJcblx0XHRcdHRoaXMuanVtcCh0aGlzLmp1bXBpbmcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCF0aGlzLmlzSnVtcGluZykge1xyXG5cdFx0XHRmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lLmxldmVsLmRlYWRSZWN0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxldCByZWN0ID0gdGhpcy5nYW1lLmxldmVsLmRlYWRSZWN0c1tpXTtcclxuXHJcblx0XHRcdFx0bGV0IHBsID0gbmV3IFBoYXNlci5SZWN0YW5nbGUodGhpcy5zcHJpdGUuYm9keS54LCB0aGlzLnNwcml0ZS5ib2R5LnksIHRoaXMuc3ByaXRlLmJvZHkud2lkdGgsIHRoaXMuc3ByaXRlLmJvZHkuaGVpZ2h0KTtcclxuXHRcdFx0XHRpZihQaGFzZXIuUmVjdGFuZ2xlLmludGVyc2VjdHMocmVjdCwgcGwpKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNwcml0ZS5ib2R5LmFjY2VsZXJhdGlvbi5zZXQoMCk7XHJcblx0XHRcdFx0XHR0aGlzLmZhbGxEZWFkKCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblx0XHRcdFxyXG5tb2R1bGUuZXhwb3J0cyA9IFBsYXllcjsiXX0=
},{"./Entity.js":2}],4:[function(require,module,exports){
module.exports={
	"player": {
		"hp": 10,
		"jump": 3,
		"speed": 100,

		"head": 5,
		"body": 3,
		"weapon": 5
	}
}
},{}],5:[function(require,module,exports){
var Boot = require('./Boot.js');

var game = new Phaser.Game(480, 320, Phaser.AUTO, 'ShooterBlink');
game.state.add('Boot', Boot, true);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJvb3QiLCJyZXF1aXJlIiwiZ2FtZSIsIlBoYXNlciIsIkdhbWUiLCJBVVRPIiwic3RhdGUiLCJhZGQiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLE9BQU9DLFFBQVEsV0FBUixDQUFYOztBQUVBLElBQUlDLE9BQU8sSUFBSUMsT0FBT0MsSUFBWCxDQUFnQixHQUFoQixFQUFxQixHQUFyQixFQUEwQkQsT0FBT0UsSUFBakMsRUFBdUMsY0FBdkMsQ0FBWDtBQUNBSCxLQUFLSSxLQUFMLENBQVdDLEdBQVgsQ0FBZSxNQUFmLEVBQXVCUCxJQUF2QixFQUE2QixJQUE3QiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBCb290ID0gcmVxdWlyZSgnLi9Cb290LmpzJyk7XHJcblxyXG52YXIgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZSg0ODAsIDMyMCwgUGhhc2VyLkFVVE8sICdTaG9vdGVyQmxpbmsnKTtcclxuZ2FtZS5zdGF0ZS5hZGQoJ0Jvb3QnLCBCb290LCB0cnVlKTsiXX0=
},{"./Boot.js":1}],6:[function(require,module,exports){
const Player = require('../Player.js');

class Level {
	constructor(game) {
		this.game = game;

		this.map = game.add.tilemap('map', 16, 16);
		this.map.addTilesetImage('tilemap');

		game.add.tileSprite(0, 0, 10000, 10000, 'bg');
		game.world.setBounds(0, 0, 10000, 10000);

		this.layerMap = this.map.createLayer('map');
		this.layerMap.resizeWorld();

		this.map.setCollisionBetween(72, 79);
		this.map.setCollisionBetween(90, 97);

		this.deadRects = [];
		this.map.objects.collisions.forEach(rect => {
			if (rect.properties.dead_fall == 'true') {
				let rectangle = new Phaser.Rectangle(rect.x, rect.y, rect.width, rect.height);
				this.deadRects.push(rectangle);
			} else if (rect.properties.spawn_player == 'true') {
				this.player = new Player(this.game, rect.x + rect.width / 2, rect.y + rect.height / 2);
			}
		});
	}

	update() {
		this.player.update();
	}
}

module.exports = Level;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxldmVsLmpzIl0sIm5hbWVzIjpbIlBsYXllciIsInJlcXVpcmUiLCJMZXZlbCIsImNvbnN0cnVjdG9yIiwiZ2FtZSIsIm1hcCIsImFkZCIsInRpbGVtYXAiLCJhZGRUaWxlc2V0SW1hZ2UiLCJ0aWxlU3ByaXRlIiwid29ybGQiLCJzZXRCb3VuZHMiLCJsYXllck1hcCIsImNyZWF0ZUxheWVyIiwicmVzaXplV29ybGQiLCJzZXRDb2xsaXNpb25CZXR3ZWVuIiwiZGVhZFJlY3RzIiwib2JqZWN0cyIsImNvbGxpc2lvbnMiLCJmb3JFYWNoIiwicmVjdCIsInByb3BlcnRpZXMiLCJkZWFkX2ZhbGwiLCJyZWN0YW5nbGUiLCJQaGFzZXIiLCJSZWN0YW5nbGUiLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwicHVzaCIsInNwYXduX3BsYXllciIsInBsYXllciIsInVwZGF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFNBQVNDLFFBQVEsY0FBUixDQUFmOztBQUVBLE1BQU1DLEtBQU4sQ0FBWTtBQUNYQyxhQUFZQyxJQUFaLEVBQWtCO0FBQ2pCLE9BQUtBLElBQUwsR0FBWUEsSUFBWjs7QUFFQSxPQUFLQyxHQUFMLEdBQVdELEtBQUtFLEdBQUwsQ0FBU0MsT0FBVCxDQUFpQixLQUFqQixFQUF3QixFQUF4QixFQUE0QixFQUE1QixDQUFYO0FBQ0EsT0FBS0YsR0FBTCxDQUFTRyxlQUFULENBQXlCLFNBQXpCOztBQUVBSixPQUFLRSxHQUFMLENBQVNHLFVBQVQsQ0FBb0IsQ0FBcEIsRUFBdUIsQ0FBdkIsRUFBMEIsS0FBMUIsRUFBaUMsS0FBakMsRUFBd0MsSUFBeEM7QUFDQUwsT0FBS00sS0FBTCxDQUFXQyxTQUFYLENBQXFCLENBQXJCLEVBQXdCLENBQXhCLEVBQTJCLEtBQTNCLEVBQWtDLEtBQWxDOztBQUVBLE9BQUtDLFFBQUwsR0FBZ0IsS0FBS1AsR0FBTCxDQUFTUSxXQUFULENBQXFCLEtBQXJCLENBQWhCO0FBQ0EsT0FBS0QsUUFBTCxDQUFjRSxXQUFkOztBQUVBLE9BQUtULEdBQUwsQ0FBU1UsbUJBQVQsQ0FBNkIsRUFBN0IsRUFBaUMsRUFBakM7QUFDQSxPQUFLVixHQUFMLENBQVNVLG1CQUFULENBQTZCLEVBQTdCLEVBQWlDLEVBQWpDOztBQUVBLE9BQUtDLFNBQUwsR0FBaUIsRUFBakI7QUFDQSxPQUFLWCxHQUFMLENBQVNZLE9BQVQsQ0FBaUJDLFVBQWpCLENBQTRCQyxPQUE1QixDQUFxQ0MsSUFBRCxJQUFVO0FBQzdDLE9BQUdBLEtBQUtDLFVBQUwsQ0FBZ0JDLFNBQWhCLElBQTZCLE1BQWhDLEVBQXdDO0FBQ3ZDLFFBQUlDLFlBQVksSUFBSUMsT0FBT0MsU0FBWCxDQUFxQkwsS0FBS00sQ0FBMUIsRUFBNkJOLEtBQUtPLENBQWxDLEVBQXFDUCxLQUFLUSxLQUExQyxFQUFpRFIsS0FBS1MsTUFBdEQsQ0FBaEI7QUFDQSxTQUFLYixTQUFMLENBQWVjLElBQWYsQ0FBb0JQLFNBQXBCO0FBQ0EsSUFIRCxNQUtLLElBQUdILEtBQUtDLFVBQUwsQ0FBZ0JVLFlBQWhCLElBQWdDLE1BQW5DLEVBQTJDO0FBQy9DLFNBQUtDLE1BQUwsR0FBYyxJQUFJaEMsTUFBSixDQUFXLEtBQUtJLElBQWhCLEVBQXNCZ0IsS0FBS00sQ0FBTCxHQUFPTixLQUFLUSxLQUFMLEdBQVcsQ0FBeEMsRUFBMkNSLEtBQUtPLENBQUwsR0FBT1AsS0FBS1MsTUFBTCxHQUFZLENBQTlELENBQWQ7QUFDQTtBQUNELEdBVEQ7QUFXQTs7QUFFREksVUFBUztBQUNSLE9BQUtELE1BQUwsQ0FBWUMsTUFBWjtBQUNBO0FBaENVOztBQW9DWkMsT0FBT0MsT0FBUCxHQUFpQmpDLEtBQWpCIiwiZmlsZSI6IkxldmVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUGxheWVyID0gcmVxdWlyZSgnLi4vUGxheWVyLmpzJyk7XHJcblxyXG5jbGFzcyBMZXZlbCB7XHJcblx0Y29uc3RydWN0b3IoZ2FtZSkge1xyXG5cdFx0dGhpcy5nYW1lID0gZ2FtZTtcclxuXHJcblx0XHR0aGlzLm1hcCA9IGdhbWUuYWRkLnRpbGVtYXAoJ21hcCcsIDE2LCAxNik7XHJcblx0XHR0aGlzLm1hcC5hZGRUaWxlc2V0SW1hZ2UoJ3RpbGVtYXAnKTtcclxuXHJcblx0XHRnYW1lLmFkZC50aWxlU3ByaXRlKDAsIDAsIDEwMDAwLCAxMDAwMCwgJ2JnJyk7XHJcblx0XHRnYW1lLndvcmxkLnNldEJvdW5kcygwLCAwLCAxMDAwMCwgMTAwMDApO1xyXG5cclxuXHRcdHRoaXMubGF5ZXJNYXAgPSB0aGlzLm1hcC5jcmVhdGVMYXllcignbWFwJyk7XHJcblx0XHR0aGlzLmxheWVyTWFwLnJlc2l6ZVdvcmxkKCk7XHJcblxyXG5cdFx0dGhpcy5tYXAuc2V0Q29sbGlzaW9uQmV0d2Vlbig3MiwgNzkpO1xyXG5cdFx0dGhpcy5tYXAuc2V0Q29sbGlzaW9uQmV0d2Vlbig5MCwgOTcpO1xyXG5cclxuXHRcdHRoaXMuZGVhZFJlY3RzID0gW107XHJcblx0XHR0aGlzLm1hcC5vYmplY3RzLmNvbGxpc2lvbnMuZm9yRWFjaCgocmVjdCkgPT4ge1xyXG5cdFx0XHRpZihyZWN0LnByb3BlcnRpZXMuZGVhZF9mYWxsID09ICd0cnVlJykge1xyXG5cdFx0XHRcdGxldCByZWN0YW5nbGUgPSBuZXcgUGhhc2VyLlJlY3RhbmdsZShyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpXHJcblx0XHRcdFx0dGhpcy5kZWFkUmVjdHMucHVzaChyZWN0YW5nbGUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRlbHNlIGlmKHJlY3QucHJvcGVydGllcy5zcGF3bl9wbGF5ZXIgPT0gJ3RydWUnKSB7XHJcblx0XHRcdFx0dGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKHRoaXMuZ2FtZSwgcmVjdC54K3JlY3Qud2lkdGgvMiwgcmVjdC55K3JlY3QuaGVpZ2h0LzIpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0fVxyXG5cclxuXHR1cGRhdGUoKSB7XHJcblx0XHR0aGlzLnBsYXllci51cGRhdGUoKTtcclxuXHR9XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IExldmVsOyJdfQ==
},{"../Player.js":3}]},{},[5])