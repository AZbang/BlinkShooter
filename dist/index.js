(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
const Entity = require('./Entity');

class Enemy extends Entity {
	constructor(level, x, y, type = 'robot') {
		super(level, x, y, type);

		this.flags = this.level.patruleFlags.slice(0);
		this.flags.forEach((flag, i) => {
			let layer = this.level.layerMap;
			let x = layer.getTileX(this.sprite.x + this.sprite.width / 2);
			let y = layer.getTileY(this.sprite.y + this.sprite.height / 2);
			let x2 = layer.getTileX(flag.x + flag.width / 2);
			let y2 = layer.getTileY(flag.y + flag.height / 2);

			this.level.pathfinder.setCallbackFunction(path => {
				if (path == null) this.flags.splice(i, 1);
			});

			this.level.pathfinder._easyStar.enableDiagonals();
			this.level.pathfinder.preparePathCalculation([x, y], [x2, y2]);
			this.level.pathfinder.calculatePath();
		});
		this.isPatruleMode = true;
		this.findPathToFlag();
	}

	update() {
		if (this.isDead) return;

		// Collisions
		this.level.physics.arcade.collide(this.weapon.bullets, this.level.layerMap, bullet => {
			bullet.kill();
		}, null, this);
		this.level.physics.arcade.collide(this.weapon.bullets, this.level.player.sprite, (player, bullet) => {
			if (!player.class.isJumping) {
				player.class.dead();
				this.level.state.restart();
				bullet.kill();
			}
		}, null, this);
		this.level.physics.arcade.collide(this.sprite, this.level.layerMap);
		for (let i = 0; i < this.level.deadRects.length; i++) {
			let rect = this.level.deadRects[i];

			let pl = new Phaser.Rectangle(this.sprite.body.x, this.sprite.body.y, this.sprite.body.width, this.sprite.body.height);
			if (Phaser.Rectangle.intersects(rect, pl)) {
				this.sprite.body.acceleration.set(0);
				this.fallDead();
				return;
			}
		}

		if (this.level.physics.arcade.distanceBetween(this.sprite, this.level.player.sprite) < this.radiusVisibility) {
			this.level.add.tween(this.sprite).to({ rotation: this.level.physics.arcade.angleToXY(this.sprite, this.level.player.sprite.x, this.level.player.sprite.y) }, this.speed / 2).start();
			this.fire();
			this.isPatruleMode = false;
		}
	}
	findPathToFlag() {
		if (!this.isPatruleMode) return;

		this.flag = this.findСlosestFlag();
		this.flag.countRepeat = Math.round(this.flags.length / 2);

		let layer = this.level.layerMap;
		let x = layer.getTileX(this.sprite.x + this.sprite.width / 2);
		let y = layer.getTileY(this.sprite.y + this.sprite.height / 2);
		let x2 = layer.getTileX(this.flag.x + this.flag.width / 2);
		let y2 = layer.getTileY(this.flag.y + this.flag.height / 2);

		this.level.pathfinder.setCallbackFunction(path => {
			if (path == null) return;
			this.moveToFlag(path);
		});

		this.level.pathfinder.preparePathCalculation([x, y], [x2, y2]);
		this.level.pathfinder.calculatePath();
	}

	moveToFlag(path) {
		let i = 0;
		let timer = this.level.time.create(false);
		timer.loop(this.speed, () => {
			i++;
			if (path[i] == null || !this.isPatruleMode) {
				timer.destroy();
				this.level.time.events.add(1000, this.findPathToFlag, this);
				return;
			}

			this.level.add.tween(this.sprite).to({ rotation: this.level.physics.arcade.angleToXY(this.sprite, path[i].x * 16 + 8, path[i].y * 16 + 8) }, this.speed / 2).start();

			this.level.physics.arcade.moveToXY(this.sprite, path[i].x * 16 + 8, path[i].y * 16 + 8, 30, this.speed);
		}, this);
		timer.start();
	}

	findСlosestFlag() {
		let min = Infinity;
		let resultFlag;
		this.flags.forEach(flag => {
			let dist = this.level.physics.arcade.distanceBetween(this.sprite, flag);
			if (min > dist) {
				if (this.flag) if (flag.countRepeat) {
					flag.countRepeat--;
					return;
				}

				min = dist;
				resultFlag = flag;
			}
		});
		return resultFlag || this.flag;
	}
}

module.exports = Enemy;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVuZW15LmpzIl0sIm5hbWVzIjpbIkVudGl0eSIsInJlcXVpcmUiLCJFbmVteSIsImNvbnN0cnVjdG9yIiwibGV2ZWwiLCJ4IiwieSIsInR5cGUiLCJmbGFncyIsInBhdHJ1bGVGbGFncyIsInNsaWNlIiwiZm9yRWFjaCIsImZsYWciLCJpIiwibGF5ZXIiLCJsYXllck1hcCIsImdldFRpbGVYIiwic3ByaXRlIiwid2lkdGgiLCJnZXRUaWxlWSIsImhlaWdodCIsIngyIiwieTIiLCJwYXRoZmluZGVyIiwic2V0Q2FsbGJhY2tGdW5jdGlvbiIsInBhdGgiLCJzcGxpY2UiLCJfZWFzeVN0YXIiLCJlbmFibGVEaWFnb25hbHMiLCJwcmVwYXJlUGF0aENhbGN1bGF0aW9uIiwiY2FsY3VsYXRlUGF0aCIsImlzUGF0cnVsZU1vZGUiLCJmaW5kUGF0aFRvRmxhZyIsInVwZGF0ZSIsImlzRGVhZCIsInBoeXNpY3MiLCJhcmNhZGUiLCJjb2xsaWRlIiwid2VhcG9uIiwiYnVsbGV0cyIsImJ1bGxldCIsImtpbGwiLCJwbGF5ZXIiLCJjbGFzcyIsImlzSnVtcGluZyIsImRlYWQiLCJzdGF0ZSIsInJlc3RhcnQiLCJkZWFkUmVjdHMiLCJsZW5ndGgiLCJyZWN0IiwicGwiLCJQaGFzZXIiLCJSZWN0YW5nbGUiLCJib2R5IiwiaW50ZXJzZWN0cyIsImFjY2VsZXJhdGlvbiIsInNldCIsImZhbGxEZWFkIiwiZGlzdGFuY2VCZXR3ZWVuIiwicmFkaXVzVmlzaWJpbGl0eSIsImFkZCIsInR3ZWVuIiwidG8iLCJyb3RhdGlvbiIsImFuZ2xlVG9YWSIsInNwZWVkIiwic3RhcnQiLCJmaXJlIiwiZmluZNChbG9zZXN0RmxhZyIsImNvdW50UmVwZWF0IiwiTWF0aCIsInJvdW5kIiwibW92ZVRvRmxhZyIsInRpbWVyIiwidGltZSIsImNyZWF0ZSIsImxvb3AiLCJkZXN0cm95IiwiZXZlbnRzIiwibW92ZVRvWFkiLCJtaW4iLCJJbmZpbml0eSIsInJlc3VsdEZsYWciLCJkaXN0IiwibW9k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QW1CQyxNQUFuQixDQUEwQjRDLFFBQTFCLENBQW1DLEtBQUsvRCxNQUF4QyxFQUFnRFEsS0FBS1osQ0FBTCxFQUFRUixDQUFSLEdBQVUsRUFBVixHQUFhLENBQTdELEVBQWdFb0IsS0FBS1osQ0FBTCxFQUFRUCxDQUFSLEdBQVUsRUFBVixHQUFhLENBQTdFLEVBQWdGLEVBQWhGLEVBQW9GLEtBQUs0RCxLQUF6RjtBQUNBLEdBYkQsRUFhRyxJQWJIO0FBY0FRLFFBQU1QLEtBQU47QUFDQTs7QUFFREUsbUJBQWtCO0FBQ2pCLE1BQUlZLE1BQU1DLFFBQVY7QUFDQSxNQUFJQyxVQUFKO0FBQ0EsT0FBSzNFLEtBQUwsQ0FBV0csT0FBWCxDQUFvQkMsSUFBRCxJQUFVO0FBQzVCLE9BQUl3RSxPQUFPLEtBQUtoRixLQUFMLENBQVcrQixPQUFYLENBQW1CQyxNQUFuQixDQUEwQnVCLGVBQTFCLENBQTBDLEtBQUsxQyxNQUEvQyxFQUF1REwsSUFBdkQsQ0FBWDtBQUNBLE9BQUdxRSxNQUFNRyxJQUFULEVBQWU7QUFDZCxRQUFHLEtBQUt4RSxJQUFSLEVBQ0MsSUFBR0EsS0FBSzBELFdBQVIsRUFBcUI7QUFDcEIxRCxVQUFLMEQsV0FBTDtBQUNBO0FBQ0E7O0FBRUZXLFVBQU1HLElBQU47QUFDQUQsaUJBQWF2RSxJQUFiO0FBQ0E7QUFDRCxHQVpEO0FBYUEsU0FBT3VFLGNBQWMsS0FBS3ZFLElBQTFCO0FBQ0E7QUFwSHlCOztBQXVIM0J5RSxPQUFPQyxPQUFQLEdBQWlCcEYsS0FBakIiLCJmaWxlIjoiRW5lbXkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBFbnRpdHkgPSByZXF1aXJlKCcuL0VudGl0eScpO1xyXG5cclxuY2xhc3MgRW5lbXkgZXh0ZW5kcyBFbnRpdHkge1xyXG5cdGNvbnN0cnVjdG9yKGxldmVsLCB4LCB5LCB0eXBlPSdyb2JvdCcpIHtcclxuXHRcdHN1cGVyKGxldmVsLCB4LCB5LCB0eXBlKTtcclxuXHJcblx0XHR0aGlzLmZsYWdzID0gdGhpcy5sZXZlbC5wYXRydWxlRmxhZ3Muc2xpY2UoMCk7XHJcblx0XHR0aGlzLmZsYWdzLmZvckVhY2goKGZsYWcsIGkpID0+IHtcclxuXHRcdFx0bGV0IGxheWVyID0gdGhpcy5sZXZlbC5sYXllck1hcDtcclxuXHRcdFx0bGV0IHggPSBsYXllci5nZXRUaWxlWCh0aGlzLnNwcml0ZS54K3RoaXMuc3ByaXRlLndpZHRoLzIpO1xyXG5cdFx0XHRsZXQgeSA9IGxheWVyLmdldFRpbGVZKHRoaXMuc3ByaXRlLnkrdGhpcy5zcHJpdGUuaGVpZ2h0LzIpO1xyXG5cdFx0XHRsZXQgeDIgPSBsYXllci5nZXRUaWxlWChmbGFnLngrZmxhZy53aWR0aC8yKTtcclxuXHRcdFx0bGV0IHkyID0gbGF5ZXIuZ2V0VGlsZVkoZmxhZy55K2ZsYWcuaGVpZ2h0LzIpO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5sZXZlbC5wYXRoZmluZGVyLnNldENhbGxiYWNrRnVuY3Rpb24oKHBhdGgpID0+IHtcclxuXHRcdFx0XHRpZihwYXRoID09IG51bGwpIHRoaXMuZmxhZ3Muc3BsaWNlKGksIDEpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRoaXMubGV2ZWwucGF0aGZpbmRlci5fZWFzeVN0YXIuZW5hYmxlRGlhZ29uYWxzKCk7XHJcblx0XHRcdHRoaXMubGV2ZWwucGF0aGZpbmRlci5wcmVwYXJlUGF0aENhbGN1bGF0aW9uKFt4LCB5XSwgW3gyLCB5Ml0pO1xyXG5cdFx0XHR0aGlzLmxldmVsLnBhdGhmaW5kZXIuY2FsY3VsYXRlUGF0aCgpO1xyXG5cdFx0fSk7XHJcblx0XHR0aGlzLmlzUGF0cnVsZU1vZGUgPSB0cnVlO1xyXG5cdFx0dGhpcy5maW5kUGF0aFRvRmxhZygpO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKCkge1xyXG5cdFx0aWYodGhpcy5pc0RlYWQpIHJldHVybjtcclxuXHJcblx0XHQvLyBDb2xsaXNpb25zXHJcblx0XHR0aGlzLmxldmVsLnBoeXNpY3MuYXJjYWRlLmNvbGxpZGUodGhpcy53ZWFwb24uYnVsbGV0cywgdGhpcy5sZXZlbC5sYXllck1hcCwgKGJ1bGxldCkgPT4ge1xyXG5cdFx0XHRidWxsZXQua2lsbCgpO1xyXG5cdFx0fSwgbnVsbCwgdGhpcyk7XHJcblx0XHR0aGlzLmxldmVsLnBoeXNpY3MuYXJjYWRlLmNvbGxpZGUodGhpcy53ZWFwb24uYnVsbGV0cywgdGhpcy5sZXZlbC5wbGF5ZXIuc3ByaXRlLCAocGxheWVyLCBidWxsZXQpID0+IHtcclxuXHRcdFx0aWYoIXBsYXllci5jbGFzcy5pc0p1bXBpbmcpIHtcclxuXHRcdFx0XHRwbGF5ZXIuY2xhc3MuZGVhZCgpO1xyXG5cdFx0XHRcdHRoaXMubGV2ZWwuc3RhdGUucmVzdGFydCgpO1xyXG5cdFx0XHRcdGJ1bGxldC5raWxsKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIG51bGwsIHRoaXMpO1xyXG5cdFx0dGhpcy5sZXZlbC5waHlzaWNzLmFyY2FkZS5jb2xsaWRlKHRoaXMuc3ByaXRlLCB0aGlzLmxldmVsLmxheWVyTWFwKTtcclxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmxldmVsLmRlYWRSZWN0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRsZXQgcmVjdCA9IHRoaXMubGV2ZWwuZGVhZFJlY3RzW2ldO1xyXG5cclxuXHRcdFx0bGV0IHBsID0gbmV3IFBoYXNlci5SZWN0YW5nbGUodGhpcy5zcHJpdGUuYm9keS54LCB0aGlzLnNwcml0ZS5ib2R5LnksIHRoaXMuc3ByaXRlLmJvZHkud2lkdGgsIHRoaXMuc3ByaXRlLmJvZHkuaGVpZ2h0KTtcclxuXHRcdFx0aWYoUGhhc2VyLlJlY3RhbmdsZS5pbnRlcnNlY3RzKHJlY3QsIHBsKSkge1xyXG5cdFx0XHRcdHRoaXMuc3ByaXRlLmJvZHkuYWNjZWxlcmF0aW9uLnNldCgwKTtcclxuXHRcdFx0XHR0aGlzLmZhbGxEZWFkKCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYodGhpcy5sZXZlbC5waHlzaWNzLmFyY2FkZS5kaXN0YW5jZUJldHdlZW4odGhpcy5zcHJpdGUsIHRoaXMubGV2ZWwucGxheWVyLnNwcml0ZSkgPCB0aGlzLnJhZGl1c1Zpc2liaWxpdHkpIHtcclxuXHRcdFx0dGhpcy5sZXZlbC5hZGQudHdlZW4odGhpcy5zcHJpdGUpXHJcblx0XHRcdFx0LnRvKHtyb3RhdGlvbjogdGhpcy5sZXZlbC5waHlzaWNzLmFyY2FkZS5hbmdsZVRvWFkodGhpcy5zcHJpdGUsIHRoaXMubGV2ZWwucGxheWVyLnNwcml0ZS54LCAgdGhpcy5sZXZlbC5wbGF5ZXIuc3ByaXRlLnkpfSwgdGhpcy5zcGVlZC8yKVxyXG5cdFx0XHRcdC5zdGFydCgpO1xyXG5cdFx0XHR0aGlzLmZpcmUoKTtcclxuXHRcdFx0dGhpcy5pc1BhdHJ1bGVNb2RlID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZpbmRQYXRoVG9GbGFnKCkge1xyXG5cdFx0aWYoIXRoaXMuaXNQYXRydWxlTW9kZSkgcmV0dXJuO1xyXG5cclxuXHRcdHRoaXMuZmxhZyA9IHRoaXMuZmluZNChbG9zZXN0RmxhZygpO1xyXG5cdFx0dGhpcy5mbGFnLmNvdW50UmVwZWF0ID0gTWF0aC5yb3VuZCh0aGlzLmZsYWdzLmxlbmd0aC8yKTtcclxuXHJcblx0XHRsZXQgbGF5ZXIgPSB0aGlzLmxldmVsLmxheWVyTWFwO1xyXG5cdFx0bGV0IHggPSBsYXllci5nZXRUaWxlWCh0aGlzLnNwcml0ZS54K3RoaXMuc3ByaXRlLndpZHRoLzIpO1xyXG5cdFx0bGV0IHkgPSBsYXllci5nZXRUaWxlWSh0aGlzLnNwcml0ZS55K3RoaXMuc3ByaXRlLmhlaWdodC8yKTtcclxuXHRcdGxldCB4MiA9IGxheWVyLmdldFRpbGVYKHRoaXMuZmxhZy54K3RoaXMuZmxhZy53aWR0aC8yKTtcclxuXHRcdGxldCB5MiA9IGxheWVyLmdldFRpbGVZKHRoaXMuZmxhZy55K3RoaXMuZmxhZy5oZWlnaHQvMik7XHJcblx0XHRcclxuXHRcdHRoaXMubGV2ZWwucGF0aGZpbmRlci5zZXRDYWxsYmFja0Z1bmN0aW9uKChwYXRoKSA9PiB7XHJcblx0XHRcdGlmKHBhdGggPT0gbnVsbCkgcmV0dXJuO1xyXG5cdFx0XHR0aGlzLm1vdmVUb0ZsYWcocGF0aCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmxldmVsLnBhdGhmaW5kZXIucHJlcGFyZVBhdGhDYWxjdWxhdGlvbihbeCwgeV0sIFt4MiwgeTJdKTtcclxuXHRcdHRoaXMubGV2ZWwucGF0aGZpbmRlci5jYWxjdWxhdGVQYXRoKCk7XHJcblx0fVxyXG5cclxuXHRtb3ZlVG9GbGFnKHBhdGgpIHtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdGxldCB0aW1lciA9IHRoaXMubGV2ZWwudGltZS5jcmVhdGUoZmFsc2UpO1xyXG5cdFx0dGltZXIubG9vcCh0aGlzLnNwZWVkLCAoKSA9PiB7XHJcblx0XHRcdGkrKztcclxuXHRcdFx0aWYocGF0aFtpXSA9PSBudWxsIHx8ICF0aGlzLmlzUGF0cnVsZU1vZGUpIHtcclxuXHRcdFx0XHR0aW1lci5kZXN0cm95KCk7XHJcblx0XHRcdFx0dGhpcy5sZXZlbC50aW1lLmV2ZW50cy5hZGQoMTAwMCwgdGhpcy5maW5kUGF0aFRvRmxhZywgdGhpcyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmxldmVsLmFkZC50d2Vlbih0aGlzLnNwcml0ZSlcclxuXHRcdFx0XHQudG8oe3JvdGF0aW9uOiB0aGlzLmxldmVsLnBoeXNpY3MuYXJjYWRlLmFuZ2xlVG9YWSh0aGlzLnNwcml0ZSwgcGF0aFtpXS54KjE2KzgsIHBhdGhbaV0ueSoxNis4KX0sIHRoaXMuc3BlZWQvMilcclxuXHRcdFx0XHQuc3RhcnQoKTtcclxuXHJcblx0XHRcdHRoaXMubGV2ZWwucGh5c2ljcy5hcmNhZGUubW92ZVRvWFkodGhpcy5zcHJpdGUsIHBhdGhbaV0ueCoxNis4LCBwYXRoW2ldLnkqMTYrOCwgMzAsIHRoaXMuc3BlZWQpO1xyXG5cdFx0fSwgdGhpcyk7XHJcblx0XHR0aW1lci5zdGFydCgpO1xyXG5cdH1cclxuXHJcblx0ZmluZNChbG9zZXN0RmxhZygpIHtcclxuXHRcdGxldCBtaW4gPSBJbmZpbml0eTtcclxuXHRcdGxldCByZXN1bHRGbGFnO1xyXG5cdFx0dGhpcy5mbGFncy5mb3JFYWNoKChmbGFnKSA9PiB7XHJcblx0XHRcdGxldCBkaXN0ID0gdGhpcy5sZXZlbC5waHlzaWNzLmFyY2FkZS5kaXN0YW5jZUJldHdlZW4odGhpcy5zcHJpdGUsIGZsYWcpO1xyXG5cdFx0XHRpZihtaW4gPiBkaXN0KSB7XHJcblx0XHRcdFx0aWYodGhpcy5mbGFnKSBcclxuXHRcdFx0XHRcdGlmKGZsYWcuY291bnRSZXBlYXQpIHtcclxuXHRcdFx0XHRcdFx0ZmxhZy5jb3VudFJlcGVhdC0tO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdG1pbiA9IGRpc3Q7XHJcblx0XHRcdFx0cmVzdWx0RmxhZyA9IGZsYWc7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJlc3VsdEZsYWcgfHwgdGhpcy5mbGFnO1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBFbmVteTsiXX0=
},{"./Entity":2}],2:[function(require,module,exports){
const entities = require('./entities.json');

class Entity {
	constructor(level, x, y, type) {
		this.type = type;
		this.level = level;

		this.x = x != null ? x : 0;
		this.y = y != null ? y : 0;

		this._entity = entities[type];

		this.hp = this._entity.hp != null ? this._entity.hp : 10;
		this.jumping = this._entity.jump != null ? this._entity.jump : 2;
		this.speed = this._entity.speed != null ? this._entity.speed : 100;
		this.radiusVisibility = this._entity.radiusVisibility != null ? this._entity.radiusVisibility : 100;
		this.isJumping = false;
		this.isDead = false;

		this.headId = this._entity.head != null ? this._entity.head : 0;
		this.bodyId = this._entity.body != null ? this._entity.body : 0;
		this.weaponId = this._entity.weapon != null ? this._entity.weapon : 0;

		this._createPhaserObjects();
	}

	_createPhaserObjects() {
		this.sprite = this.level.add.sprite(this.x, this.y, 'bodies', this.bodyId);
		this.sprite.anchor.set(0.5);
		this.sprite.smoothed = false;
		this.sprite.class = this;

		this.head = this.level.make.sprite(-12, -7, 'heads', this.headId);
		this.head.smoothed = false;
		this.sprite.addChild(this.head);

		this.attachToBody = this.level.make.sprite(3.5, -4, 'attachToBody', this.weaponId);
		this.attachToBody.smoothed = false;
		this.sprite.addChild(this.attachToBody);

		this.weapon = this.level.add.weapon(10, 'bullets');
		this.weapon.setBulletFrames(this.weaponId, this.weaponId, true);
		this.weapon.bulletKillType = Phaser.Weapon.KILL_WORLD_BOUNDS;
		this.weapon.bulletSpeed = 400;
		this.weapon.fireRate = 100;
		this.weapon.trackSprite(this.sprite, 16, 4, true);

		this.level.physics.arcade.enable(this.sprite);
		this.sprite.body.drag.set(150);
		this.sprite.body.maxVelocity.set(100);
		this.sprite.syncBounds = true;

		this.tweenBreathe = this.level.add.tween(this.sprite.scale).to({ x: 1.1, y: 1.1 }, 1000, Phaser.Easing.Quadratic.Out).to({ x: 1, y: 1 }).loop();
		this.tweenBreathe.start();
	}

	fire() {
		let bullet = this.weapon.fire();

		if (bullet) {
			this.sprite.body.angularVelocity = -400;
			this.level.physics.arcade.accelerationFromRotation(this.sprite.rotation, 300, this.sprite.body.acceleration);
			bullet.smoothed = false;
			bullet.scale.setTo(this.sprite.scale.x / 2, this.sprite.scale.y / 2);
			bullet.body.updateBounds();
		}
	}

	jump(power) {
		this.isJumping = true;
		this.tweenBreathe.pause();

		this.tweenJump = this.level.add.tween(this.sprite.scale).to({ x: power, y: power }, 300, Phaser.Easing.Quadratic.Out).to({ x: 1, y: 1 }, 300, Phaser.Easing.Quintic.In).start();
		this.tweenJump.onComplete.add(() => {
			this.isJumping = false;
			this.tweenBreathe.resume();
			this.weapon.trackSprite(this.sprite, 16 * this.sprite.scale.x, 4 * this.sprite.scale.y, true);
		}, this);
	}

	dead() {
		this.sprite.kill();
		this.isDead = true;
	}

	fallDead() {
		this.isDead = true;
		let dead = this.level.add.tween(this.sprite.scale).to({
			x: 0,
			y: 0
		}, 300, Phaser.Easing.Quadratic.In, true);
		dead.onComplete.add(() => {
			this.level.state.restart();
		});
	}
}

module.exports = Entity;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVudGl0eS5qcyJdLCJuYW1lcyI6WyJlbnRpdGllcyIsInJlcXVpcmUiLCJFbnRpdHkiLCJjb25zdHJ1Y3RvciIsImxldmVsIiwieCIsInkiLCJ0eXBlIiwiX2VudGl0eSIsImhwIiwianVtcGluZyIsImp1bXAiLCJzcGVlZCIsInJhZGl1c1Zpc2liaWxpdHkiLCJpc0p1bXBpbmciLCJpc0RlYWQiLCJoZWFkSWQiLCJoZWFkIiwiYm9keUlkIiwiYm9keSIsIndlYXBvbklkIiwid2VhcG9uIiwiX2NyZWF0ZVBoYXNlck9iamVjdHMiLCJzcHJpdGUiLCJhZGQiLCJhbmNob3IiLCJzZXQiLCJzbW9vdGhlZCIsImNsYXNzIiwibWFrZSIsImFkZENoaWxkIiwiYXR0YWNoVG9Cb2R5Iiwic2V0QnVsbGV0RnJhbWVzIiwiYnVsbGV0S2lsbFR5cGUiLCJQaGFzZXIiLCJXZWFwb24iLCJLSUxMX1dPUkxEX0JPVU5EUyIsImJ1bGxldFNwZWVkIiwiZmlyZVJhdGUiLCJ0cmFja1Nwcml0ZSIsInBoeXNpY3MiLCJhcmNhZGUiLCJlbmFibGUiLCJkcmFnIiwibWF4VmVsb2NpdHkiLCJzeW5jQm91bmRzIiwidHdlZW5CcmVhdGhlIiwidHdlZW4iLCJzY2FsZSIsInRvIiwiRWFzaW5nIiwiUXVhZHJhdGljIiwiT3V0IiwibG9vcCIsInN0YXJ0IiwiZmlyZSIsImJ1bGxldCIsImFuZ3VsYXJWZWxvY2l0eSIsImFjY2VsZXJhdGlvbkZyb21Sb3RhdGlvbiIsInJvdGF0aW9uIiwiYWNjZWxlcmF0aW9uIiwic2V0VG8iLCJ1cGRhdGVCb3VuZHMiLCJwb3dlciIsInBhdXNlIiwidHdlZW5KdW1wIiwiUXVpbnRpYyIsIkluIiwib25Db21wbGV0ZSIsInJlc3VtZSIsImRlYWQiLCJraWxsIiwiZmFsbERlYWQiLCJzdGF0ZSIsInJlc3RhcnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxXQUFXQyxRQUFRLGlCQUFSLENBQWpCOztBQUVBLE1BQU1DLE1B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Q0FBMEI1QyxHQUExQixDQUE4QixNQUFNO0FBQ25DLFFBQUtWLFNBQUwsR0FBaUIsS0FBakI7QUFDQSxRQUFLZ0MsWUFBTCxDQUFrQnVCLE1BQWxCO0FBQ0EsUUFBS2hELE1BQUwsQ0FBWWtCLFdBQVosQ0FBd0IsS0FBS2hCLE1BQTdCLEVBQXFDLEtBQUcsS0FBS0EsTUFBTCxDQUFZeUIsS0FBWixDQUFrQjNDLENBQTFELEVBQTZELElBQUUsS0FBS2tCLE1BQUwsQ0FBWXlCLEtBQVosQ0FBa0IxQyxDQUFqRixFQUFvRixJQUFwRjtBQUNBLEdBSkQsRUFJRyxJQUpIO0FBS0E7O0FBRURnRSxRQUFPO0FBQ04sT0FBSy9DLE1BQUwsQ0FBWWdELElBQVo7QUFDQSxPQUFLeEQsTUFBTCxHQUFjLElBQWQ7QUFDQTs7QUFFRHlELFlBQVc7QUFDVixPQUFLekQsTUFBTCxHQUFjLElBQWQ7QUFDQSxNQUFJdUQsT0FBTyxLQUFLbEUsS0FBTCxDQUFXb0IsR0FBWCxDQUFldUIsS0FBZixDQUFxQixLQUFLeEIsTUFBTCxDQUFZeUIsS0FBakMsRUFBd0NDLEVBQXhDLENBQTJDO0FBQ3JENUMsTUFBRyxDQURrRDtBQUVyREMsTUFBRztBQUZrRCxHQUEzQyxFQUdSLEdBSFEsRUFHSDRCLE9BQU9nQixNQUFQLENBQWNDLFNBQWQsQ0FBd0JnQixFQUhyQixFQUd5QixJQUh6QixDQUFYO0FBSUFHLE9BQUtGLFVBQUwsQ0FBZ0I1QyxHQUFoQixDQUFvQixNQUFNO0FBQ3pCLFFBQUtwQixLQUFMLENBQVdxRSxLQUFYLENBQWlCQyxPQUFqQjtBQUNBLEdBRkQ7QUFHQTtBQWxHVzs7QUFxR2JDLE9BQU9DLE9BQVAsR0FBaUIxRSxNQUFqQiIsImZpbGUiOiJFbnRpdHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlbnRpdGllcyA9IHJlcXVpcmUoJy4vZW50aXRpZXMuanNvbicpO1xyXG5cclxuY2xhc3MgRW50aXR5IHtcclxuXHRjb25zdHJ1Y3RvcihsZXZlbCwgeCwgeSwgdHlwZSkge1xyXG5cdFx0dGhpcy50eXBlID0gdHlwZTtcclxuXHRcdHRoaXMubGV2ZWwgPSBsZXZlbDtcclxuXHJcblx0XHR0aGlzLnggPSB4ICE9IG51bGwgPyB4IDogMDtcclxuXHRcdHRoaXMueSA9IHkgIT0gbnVsbCA/IHkgOiAwO1xyXG5cclxuXHRcdHRoaXMuX2VudGl0eSA9IGVudGl0aWVzW3R5cGVdO1xyXG5cclxuXHRcdHRoaXMuaHAgPSB0aGlzLl9lbnRpdHkuaHAgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5ocCA6IDEwO1xyXG5cdFx0dGhpcy5qdW1waW5nID0gdGhpcy5fZW50aXR5Lmp1bXAgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5qdW1wIDogMjtcclxuXHRcdHRoaXMuc3BlZWQgPSB0aGlzLl9lbnRpdHkuc3BlZWQgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5zcGVlZCA6IDEwMDtcclxuXHRcdHRoaXMucmFkaXVzVmlzaWJpbGl0eSA9IHRoaXMuX2VudGl0eS5yYWRpdXNWaXNpYmlsaXR5ICE9IG51bGwgPyB0aGlzLl9lbnRpdHkucmFkaXVzVmlzaWJpbGl0eSA6IDEwMDtcclxuXHRcdHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcblx0XHR0aGlzLmlzRGVhZCA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuaGVhZElkID0gdGhpcy5fZW50aXR5LmhlYWQgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5oZWFkIDogMDtcclxuXHRcdHRoaXMuYm9keUlkID0gdGhpcy5fZW50aXR5LmJvZHkgIT0gbnVsbCA/IHRoaXMuX2VudGl0eS5ib2R5IDogMDtcclxuXHRcdHRoaXMud2VhcG9uSWQgPSB0aGlzLl9lbnRpdHkud2VhcG9uICE9IG51bGwgPyB0aGlzLl9lbnRpdHkud2VhcG9uIDogMDtcclxuXHJcblx0XHR0aGlzLl9jcmVhdGVQaGFzZXJPYmplY3RzKCk7XHJcblx0fVxyXG5cclxuXHRfY3JlYXRlUGhhc2VyT2JqZWN0cygpIHtcclxuXHRcdHRoaXMuc3ByaXRlID0gdGhpcy5sZXZlbC5hZGQuc3ByaXRlKHRoaXMueCwgdGhpcy55LCAnYm9kaWVzJywgdGhpcy5ib2R5SWQpO1xyXG5cdFx0dGhpcy5zcHJpdGUuYW5jaG9yLnNldCgwLjUpO1xyXG5cdFx0dGhpcy5zcHJpdGUuc21vb3RoZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuc3ByaXRlLmNsYXNzID0gdGhpcztcclxuXHJcblx0XHR0aGlzLmhlYWQgPSB0aGlzLmxldmVsLm1ha2Uuc3ByaXRlKC0xMiwgLTcsICdoZWFkcycsIHRoaXMuaGVhZElkKTtcclxuXHRcdHRoaXMuaGVhZC5zbW9vdGhlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5zcHJpdGUuYWRkQ2hpbGQodGhpcy5oZWFkKTtcclxuXHJcblx0XHR0aGlzLmF0dGFjaFRvQm9keSA9IHRoaXMubGV2ZWwubWFrZS5zcHJpdGUoMy41LCAtNCwgJ2F0dGFjaFRvQm9keScsIHRoaXMud2VhcG9uSWQpO1xyXG5cdFx0dGhpcy5hdHRhY2hUb0JvZHkuc21vb3RoZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuc3ByaXRlLmFkZENoaWxkKHRoaXMuYXR0YWNoVG9Cb2R5KTtcdFxyXG5cclxuXHRcdHRoaXMud2VhcG9uID0gdGhpcy5sZXZlbC5hZGQud2VhcG9uKDEwLCAnYnVsbGV0cycpO1xyXG5cdFx0dGhpcy53ZWFwb24uc2V0QnVsbGV0RnJhbWVzKHRoaXMud2VhcG9uSWQsIHRoaXMud2VhcG9uSWQsIHRydWUpO1xyXG5cdFx0dGhpcy53ZWFwb24uYnVsbGV0S2lsbFR5cGUgPSBQaGFzZXIuV2VhcG9uLktJTExfV09STERfQk9VTkRTO1xyXG5cdFx0dGhpcy53ZWFwb24uYnVsbGV0U3BlZWQgPSA0MDA7XHJcblx0XHR0aGlzLndlYXBvbi5maXJlUmF0ZSA9IDEwMDtcclxuXHRcdHRoaXMud2VhcG9uLnRyYWNrU3ByaXRlKHRoaXMuc3ByaXRlLCAxNiwgNCwgdHJ1ZSk7XHJcblx0XHRcclxuXHRcdHRoaXMubGV2ZWwucGh5c2ljcy5hcmNhZGUuZW5hYmxlKHRoaXMuc3ByaXRlKTtcclxuXHRcdHRoaXMuc3ByaXRlLmJvZHkuZHJhZy5zZXQoMTUwKTtcclxuXHRcdHRoaXMuc3ByaXRlLmJvZHkubWF4VmVsb2NpdHkuc2V0KDEwMCk7XHJcblx0XHR0aGlzLnNwcml0ZS5zeW5jQm91bmRzID0gdHJ1ZTtcclxuXHJcblx0XHR0aGlzLnR3ZWVuQnJlYXRoZSA9IHRoaXMubGV2ZWwuYWRkLnR3ZWVuKHRoaXMuc3ByaXRlLnNjYWxlKVxyXG5cdFx0XHQudG8oe3g6MS4xLCB5OiAxLjF9LCAxMDAwLCBQaGFzZXIuRWFzaW5nLlF1YWRyYXRpYy5PdXQpXHJcblx0XHRcdC50byh7eDogMSwgeTogMX0pXHJcblx0XHRcdC5sb29wKCk7XHJcblx0XHR0aGlzLnR3ZWVuQnJlYXRoZS5zdGFydCgpO1xyXG5cdH1cclxuXHJcblx0ZmlyZSgpIHtcclxuXHRcdGxldCBidWxsZXQgPSB0aGlzLndlYXBvbi5maXJlKCk7XHJcblxyXG5cdFx0aWYoYnVsbGV0KSB7XHJcblx0XHRcdHRoaXMuc3ByaXRlLmJvZHkuYW5ndWxhclZlbG9jaXR5ID0gLTQwMDtcclxuXHRcdFx0dGhpcy5sZXZlbC5waHlzaWNzLmFyY2FkZS5hY2NlbGVyYXRpb25Gcm9tUm90YXRpb24odGhpcy5zcHJpdGUucm90YXRpb24sIDMwMCwgdGhpcy5zcHJpdGUuYm9keS5hY2NlbGVyYXRpb24pO1xyXG5cdFx0XHRidWxsZXQuc21vb3RoZWQgPSBmYWxzZTtcclxuXHRcdFx0YnVsbGV0LnNjYWxlLnNldFRvKHRoaXMuc3ByaXRlLnNjYWxlLngvMiwgdGhpcy5zcHJpdGUuc2NhbGUueS8yKTtcclxuXHRcdFx0YnVsbGV0LmJvZHkudXBkYXRlQm91bmRzKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRqdW1wKHBvd2VyKSB7XHJcblx0XHR0aGlzLmlzSnVtcGluZyA9IHRydWU7XHJcblx0XHR0aGlzLnR3ZWVuQnJlYXRoZS5wYXVzZSgpO1xyXG5cclxuXHRcdHRoaXMudHdlZW5KdW1wID0gdGhpcy5sZXZlbC5hZGQudHdlZW4odGhpcy5zcHJpdGUuc2NhbGUpXHJcblx0XHRcdC50byh7eDogcG93ZXIsIHk6IHBvd2VyfSwgMzAwLCBQaGFzZXIuRWFzaW5nLlF1YWRyYXRpYy5PdXQpXHJcblx0XHRcdC50byh7eDogMSwgeTogMX0sIDMwMCwgUGhhc2VyLkVhc2luZy5RdWludGljLkluKVxyXG5cdFx0XHQuc3RhcnQoKTtcclxuXHRcdHRoaXMudHdlZW5KdW1wLm9uQ29tcGxldGUuYWRkKCgpID0+IHtcclxuXHRcdFx0dGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy50d2VlbkJyZWF0aGUucmVzdW1lKCk7XHJcblx0XHRcdHRoaXMud2VhcG9uLnRyYWNrU3ByaXRlKHRoaXMuc3ByaXRlLCAxNip0aGlzLnNwcml0ZS5zY2FsZS54LCA0KnRoaXMuc3ByaXRlLnNjYWxlLnksIHRydWUpO1xyXG5cdFx0fSwgdGhpcyk7XHJcblx0fVxyXG5cclxuXHRkZWFkKCkge1xyXG5cdFx0dGhpcy5zcHJpdGUua2lsbCgpO1xyXG5cdFx0dGhpcy5pc0RlYWQgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0ZmFsbERlYWQoKSB7XHJcblx0XHR0aGlzLmlzRGVhZCA9IHRydWU7XHJcblx0XHRsZXQgZGVhZCA9IHRoaXMubGV2ZWwuYWRkLnR3ZWVuKHRoaXMuc3ByaXRlLnNjYWxlKS50byh7XHJcblx0XHRcdHg6IDAsIFxyXG5cdFx0XHR5OiAwXHJcblx0XHR9LCAzMDAsIFBoYXNlci5FYXNpbmcuUXVhZHJhdGljLkluLCB0cnVlKTtcclxuXHRcdGRlYWQub25Db21wbGV0ZS5hZGQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmxldmVsLnN0YXRlLnJlc3RhcnQoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBFbnRpdHk7Il19
},{"./entities.json":4}],3:[function(require,module,exports){
const Entity = require('./Entity.js');

class Player extends Entity {
	constructor(level, x, y) {
		super(level, x, y, 'player');

		this.level.camera.follow(this.sprite, Phaser.Camera.FOLLOW_LOCKON, 0.1, 0.1);

		this.cursors = this.level.input.keyboard.createCursorKeys();
		this.jumpButton = this.level.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
		this.fireButton = this.level.input.keyboard.addKey(Phaser.Keyboard.Z);
	}

	update() {
		if (this.isDead) return;

		this.level.physics.arcade.collide(this.weapon.bullets, this.level.layerMap, bullet => {
			bullet.kill();
		}, null, this);
		this.level.physics.arcade.collide(this.weapon.bullets, this.level.enemies, (bullet, enemy) => {
			if (!enemy.class.isJumping) {
				bullet.kill();
				enemy.class.dead();
			}
		}, null, this);

		this.level.physics.arcade.collide(this.sprite, this.level.layerMap);
		if (!this.isJumping) {
			for (let i = 0; i < this.level.deadRects.length; i++) {
				let rect = this.level.deadRects[i];

				let pl = new Phaser.Rectangle(this.sprite.body.x, this.sprite.body.y, this.sprite.body.width, this.sprite.body.height);
				if (Phaser.Rectangle.intersects(rect, pl)) {
					this.sprite.body.acceleration.set(0);
					this.fallDead();
					return;
				}
			}
		}

		if (this.isJumping) this.weapon.trackSprite(this.sprite, 16 * this.sprite.scale.x, 4 * this.sprite.scale.y, true);

		if (this.cursors.up.isDown) this.level.physics.arcade.accelerationFromRotation(this.sprite.rotation, 300, this.sprite.body.acceleration);else this.sprite.body.acceleration.set(0);

		if (this.cursors.left.isDown) this.sprite.body.angularVelocity = -300;else if (this.cursors.right.isDown) this.sprite.body.angularVelocity = 300;else this.sprite.body.angularVelocity = 0;

		if (this.fireButton.isDown) this.fire();

		if (this.jumpButton.isDown && !this.isJumping) {
			this.jump(this.jumping);
		}
	}
}

module.exports = Player;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXllci5qcyJdLCJuYW1lcyI6WyJFbnRpdHkiLCJyZXF1aXJlIiwiUGxheWVyIiwiY29uc3RydWN0b3IiLCJsZXZlbCIsIngiLCJ5IiwiY2FtZXJhIiwiZm9sbG93Iiwic3ByaXRlIiwiUGhhc2VyIiwiQ2FtZXJhIiwiRk9MTE9XX0xPQ0tPTiIsImN1cnNvcnMiLCJpbnB1dCIsImtleWJvYXJkIiwiY3JlYXRlQ3Vyc29yS2V5cyIsImp1bXBCdXR0b24iLCJhZGRLZXkiLCJLZXlib2FyZCIsIlNQQUNFQkFSIiwiZmlyZUJ1dHRvbiIsIloiLCJ1cGRhdGUiLCJpc0RlYWQiLCJwaHlzaWNzIiwiYXJjYWRlIiwiY29sbGlkZSIsIndlYXBvbiIsImJ1bGxldHMiLCJsYXllck1hcCIsImJ1bGxldCIsImtpbGwiLCJlbmVtaWVzIiwiZW5lbXkiLCJjbGFzcyIsImlzSnVtcGluZyIsImRlYWQiLCJpIiwiZGVhZFJlY3RzIiwibGVuZ3RoIiwicmVjdCIsInBsIiwiUmVjdGFuZ2xlIiwiYm9keSIsIndpZHRoIiwiaGVpZ2h0IiwiaW50ZXJzZWN0cyIsImFjY2VsZXJhdGlvbiIsInNldCIsImZhbGxEZWFkIiwidHJhY2tTcHJpdGUiLCJzY2FsZSIsInVwIiwiaXNEb3duIiwiYWNjZWxlcmF0aW9uRnJvbVJvdGF0aW9uIiwicm90YXRpb24iLCJsZWZ0IiwiYW5ndWxhclZlbG9jaXR5IiwicmlnaHQiLCJmaXJlIiwianVtcCIsImp1bXBpbmciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxTQUFTQyxRQUFRLGFBQVIsQ0FBZjs7QUFFQSxNQUFNQyxNQUFOLFNBQXFCRixNQUFyQixDQUE0QjtBQUMzQkcsYUFBWUMsS0FBWixFQUFtQkMsQ0FBbkIsRUFBc0JDLENBQXRCLEVBQXlCO0FBQ3hCLFFBQU1GLEtBQU4sRUFBYUMsQ0FBYixFQUFnQkMsQ0FBaEIsRUFBbUIsUUFBbkI7O0FBRUEsT0FBS0YsS0FBTCxDQUFXRyxNQUFYLENBQWtCQyxN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QUFYLENBQW1CQyxNQUFuQixDQUEwQjZCLHdCQUExQixDQUFtRCxLQUFLOUMsTUFBTCxDQUFZK0MsUUFBL0QsRUFBeUUsR0FBekUsRUFBOEUsS0FBSy9DLE1BQUwsQ0FBWW1DLElBQVosQ0FBaUJJLFlBQS9GLEVBREQsS0FHSyxLQUFLdkMsTUFBTCxDQUFZbUMsSUFBWixDQUFpQkksWUFBakIsQ0FBOEJDLEdBQTlCLENBQWtDLENBQWxDOztBQUVMLE1BQUcsS0FBS3BDLE9BQUwsQ0FBYTRDLElBQWIsQ0FBa0JILE1BQXJCLEVBQ0MsS0FBSzdDLE1BQUwsQ0FBWW1DLElBQVosQ0FBaUJjLGVBQWpCLEdBQW1DLENBQUMsR0FBcEMsQ0FERCxLQUdLLElBQUcsS0FBSzdDLE9BQUwsQ0FBYThDLEtBQWIsQ0FBbUJMLE1BQXRCLEVBQ0osS0FBSzdDLE1BQUwsQ0FBWW1DLElBQVosQ0FBaUJjLGVBQWpCLEdBQW1DLEdBQW5DLENBREksS0FHQSxLQUFLakQsTUFBTCxDQUFZbUMsSUFBWixDQUFpQmMsZUFBakIsR0FBbUMsQ0FBbkM7O0FBRUwsTUFBRyxLQUFLckMsVUFBTCxDQUFnQmlDLE1BQW5CLEVBQ0MsS0FBS00sSUFBTDs7QUFFRCxNQUFHLEtBQUszQyxVQUFMLENBQWdCcUMsTUFBaEIsSUFBMEIsQ0FBQyxLQUFLbEIsU0FBbkMsRUFBOEM7QUFDN0MsUUFBS3lCLElBQUwsQ0FBVSxLQUFLQyxPQUFmO0FBQ0E7QUFDRDtBQTVEMEI7O0FBK0Q1QkMsT0FBT0MsT0FBUCxHQUFpQjlELE1BQWpCIiwiZmlsZSI6IlBsYXllci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEVudGl0eSA9IHJlcXVpcmUoJy4vRW50aXR5LmpzJyk7XHJcblxyXG5jbGFzcyBQbGF5ZXIgZXh0ZW5kcyBFbnRpdHkge1xyXG5cdGNvbnN0cnVjdG9yKGxldmVsLCB4LCB5KSB7XHJcblx0XHRzdXBlcihsZXZlbCwgeCwgeSwgJ3BsYXllcicpO1xyXG5cclxuXHRcdHRoaXMubGV2ZWwuY2FtZXJhLmZvbGxvdyh0aGlzLnNwcml0ZSwgUGhhc2VyLkNhbWVyYS5GT0xMT1dfTE9DS09OICwgMC4xLCAwLjEpO1xyXG5cclxuXHRcdHRoaXMuY3Vyc29ycyA9IHRoaXMubGV2ZWwuaW5wdXQua2V5Ym9hcmQuY3JlYXRlQ3Vyc29yS2V5cygpO1xyXG5cdFx0dGhpcy5qdW1wQnV0dG9uID0gdGhpcy5sZXZlbC5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLktleWJvYXJkLlNQQUNFQkFSKTtcclxuXHRcdHRoaXMuZmlyZUJ1dHRvbiA9IHRoaXMubGV2ZWwuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5LZXlib2FyZC5aKTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZSgpIHtcclxuXHRcdGlmKHRoaXMuaXNEZWFkKSByZXR1cm47XHJcblxyXG5cdFx0dGhpcy5sZXZlbC5waHlzaWNzLmFyY2FkZS5jb2xsaWRlKHRoaXMud2VhcG9uLmJ1bGxldHMsIHRoaXMubGV2ZWwubGF5ZXJNYXAsIChidWxsZXQpID0+IHtcclxuXHRcdFx0YnVsbGV0LmtpbGwoKTtcclxuXHRcdH0sIG51bGwsIHRoaXMpO1xyXG5cdFx0dGhpcy5sZXZlbC5waHlzaWNzLmFyY2FkZS5jb2xsaWRlKHRoaXMud2VhcG9uLmJ1bGxldHMsIHRoaXMubGV2ZWwuZW5lbWllcywgKGJ1bGxldCwgZW5lbXkpID0+IHtcclxuXHRcdFx0aWYoIWVuZW15LmNsYXNzLmlzSnVtcGluZykge1xyXG5cdFx0XHRcdGJ1bGxldC5raWxsKCk7XHJcblx0XHRcdFx0ZW5lbXkuY2xhc3MuZGVhZCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCBudWxsLCB0aGlzKTtcclxuXHJcblx0XHR0aGlzLmxldmVsLnBoeXNpY3MuYXJjYWRlLmNvbGxpZGUodGhpcy5zcHJpdGUsIHRoaXMubGV2ZWwubGF5ZXJNYXApO1xyXG5cdFx0aWYoIXRoaXMuaXNKdW1waW5nKSB7XHJcblx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmxldmVsLmRlYWRSZWN0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxldCByZWN0ID0gdGhpcy5sZXZlbC5kZWFkUmVjdHNbaV07XHJcblxyXG5cdFx0XHRcdGxldCBwbCA9IG5ldyBQaGFzZXIuUmVjdGFuZ2xlKHRoaXMuc3ByaXRlLmJvZHkueCwgdGhpcy5zcHJpdGUuYm9keS55LCB0aGlzLnNwcml0ZS5ib2R5LndpZHRoLCB0aGlzLnNwcml0ZS5ib2R5LmhlaWdodCk7XHJcblx0XHRcdFx0aWYoUGhhc2VyLlJlY3RhbmdsZS5pbnRlcnNlY3RzKHJlY3QsIHBsKSkge1xyXG5cdFx0XHRcdFx0dGhpcy5zcHJpdGUuYm9keS5hY2NlbGVyYXRpb24uc2V0KDApO1xyXG5cdFx0XHRcdFx0dGhpcy5mYWxsRGVhZCgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKHRoaXMuaXNKdW1waW5nKVxyXG5cdFx0XHR0aGlzLndlYXBvbi50cmFja1Nwcml0ZSh0aGlzLnNwcml0ZSwgMTYqdGhpcy5zcHJpdGUuc2NhbGUueCwgNCp0aGlzLnNwcml0ZS5zY2FsZS55LCB0cnVlKTtcclxuXHJcblx0XHRpZih0aGlzLmN1cnNvcnMudXAuaXNEb3duKVxyXG5cdFx0XHR0aGlzLmxldmVsLnBoeXNpY3MuYXJjYWRlLmFjY2VsZXJhdGlvbkZyb21Sb3RhdGlvbih0aGlzLnNwcml0ZS5yb3RhdGlvbiwgMzAwLCB0aGlzLnNwcml0ZS5ib2R5LmFjY2VsZXJhdGlvbik7XHJcblxyXG5cdFx0ZWxzZSB0aGlzLnNwcml0ZS5ib2R5LmFjY2VsZXJhdGlvbi5zZXQoMCk7XHJcblxyXG5cdFx0aWYodGhpcy5jdXJzb3JzLmxlZnQuaXNEb3duKVxyXG5cdFx0XHR0aGlzLnNwcml0ZS5ib2R5LmFuZ3VsYXJWZWxvY2l0eSA9IC0zMDA7XHJcblxyXG5cdFx0ZWxzZSBpZih0aGlzLmN1cnNvcnMucmlnaHQuaXNEb3duKVxyXG5cdFx0XHR0aGlzLnNwcml0ZS5ib2R5LmFuZ3VsYXJWZWxvY2l0eSA9IDMwMDtcclxuXHJcblx0XHRlbHNlIHRoaXMuc3ByaXRlLmJvZHkuYW5ndWxhclZlbG9jaXR5ID0gMDtcclxuXHJcblx0XHRpZih0aGlzLmZpcmVCdXR0b24uaXNEb3duKVxyXG5cdFx0XHR0aGlzLmZpcmUoKTtcclxuXHJcblx0XHRpZih0aGlzLmp1bXBCdXR0b24uaXNEb3duICYmICF0aGlzLmlzSnVtcGluZykge1xyXG5cdFx0XHR0aGlzLmp1bXAodGhpcy5qdW1waW5nKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHRcdFx0XHJcbm1vZHVsZS5leHBvcnRzID0gUGxheWVyOyJdfQ==
},{"./Entity.js":2}],4:[function(require,module,exports){
module.exports={
	"player": {
		"hp": 10,
		"jump": 3,
		"speed": 100,

		"head": 5,
		"body": 3,
		"weapon": 5
	},
	"robot": {
		"hp": 10,
		"jump": 3,
		"speed": 100,
		"radiusVisibility": 150,

		"head": 7,
		"body": 1,
		"weapon": 8
	},
	"robot2": {
		"hp": 10,
		"jump": 3,
		"speed": 100,
		"radiusVisibility": 150,

		"head": 10,
		"body": 3,
		"weapon": 2
	},
	"robot3": {
		"hp": 10,
		"jump": 3,
		"speed": 100,
		"radiusVisibility": 150,

		"head": 13,
		"body": 3,
		"weapon": 5
	}
}
},{}],5:[function(require,module,exports){
const Boot = require('./states/Boot.js');
const Preload = require('./states/Preload.js');
const Menu = require('./states/Menu.js');
const Level = require('./states/Level.js');
const Settings = require('./states/Settings.js');
const LevelManager = require('./states/LevelManager.js');

const game = new Phaser.Game(480, 320, Phaser.AUTO, 'ShooterBlink');

game.state.add('Menu', Menu);
game.state.add('Settings', Settings);
game.state.add('Level', Level);
game.state.add('LevelManager', LevelManager);
game.state.add('Preload', Preload);
game.state.add('Boot', Boot, true);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJvb3QiLCJyZXF1aXJlIiwiUHJlbG9hZCIsIk1lbnUiLCJMZXZlbCIsIlNldHRpbmdzIiwiTGV2ZWxNYW5hZ2VyIiwiZ2FtZSIsIlBoYXNlciIsIkdhbWUiLCJBVVRPIiwic3RhdGUiLCJhZGQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU9DLFFBQVEsa0JBQVIsQ0FBYjtBQUNBLE1BQU1DLFVBQVVELFFBQVEscUJBQVIsQ0FBaEI7QUFDQSxNQUFNRSxPQUFPRixRQUFRLGtCQUFSLENBQWI7QUFDQSxNQUFNRyxRQUFRSCxRQUFRLG1CQUFSLENBQWQ7QUFDQSxNQUFNSSxXQUFXSixRQUFRLHNCQUFSLENBQWpCO0FBQ0EsTUFBTUssZUFBZUwsUUFBUSwwQkFBUixDQUFyQjs7QUFFQSxNQUFNTSxPQUFPLElBQUlDLE9BQU9DLElBQVgsQ0FBZ0IsR0FBaEIsRUFBcUIsR0FBckIsRUFBMEJELE9BQU9FLElBQWpDLEVBQXVDLGNBQXZDLENBQWI7O0FBRUFILEtBQUtJLEtBQUwsQ0FBV0MsR0FBWCxDQUFlLE1BQWYsRUFBdUJULElBQXZCO0FBQ0FJLEtBQUtJLEtBQUwsQ0FBV0MsR0FBWCxDQUFlLFVBQWYsRUFBMkJQLFFBQTNCO0FBQ0FFLEtBQUtJLEtBQUwsQ0FBV0MsR0FBWCxDQUFlLE9BQWYsRUFBd0JSLEtBQXhCO0FBQ0FHLEtBQUtJLEtBQUwsQ0FBV0MsR0FBWCxDQUFlLGNBQWYsRUFBK0JOLFlBQS9CO0FBQ0FDLEtBQUtJLEtBQUwsQ0FBV0MsR0FBWCxDQUFlLFNBQWYsRUFBMEJWLE9BQTFCO0FBQ0FLLEtBQUtJLEtBQUwsQ0FBV0MsR0FBWCxDQUFlLE1BQWYsRUFBdUJaLElBQXZCLEVBQTZCLElBQTdCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQm9vdCA9IHJlcXVpcmUoJy4vc3RhdGVzL0Jvb3QuanMnKTtcclxuY29uc3QgUHJlbG9hZCA9IHJlcXVpcmUoJy4vc3RhdGVzL1ByZWxvYWQuanMnKTtcclxuY29uc3QgTWVudSA9IHJlcXVpcmUoJy4vc3RhdGVzL01lbnUuanMnKTtcclxuY29uc3QgTGV2ZWwgPSByZXF1aXJlKCcuL3N0YXRlcy9MZXZlbC5qcycpO1xyXG5jb25zdCBTZXR0aW5ncyA9IHJlcXVpcmUoJy4vc3RhdGVzL1NldHRpbmdzLmpzJyk7XHJcbmNvbnN0IExldmVsTWFuYWdlciA9IHJlcXVpcmUoJy4vc3RhdGVzL0xldmVsTWFuYWdlci5qcycpO1xyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZSg0ODAsIDMyMCwgUGhhc2VyLkFVVE8sICdTaG9vdGVyQmxpbmsnKTtcclxuXHJcbmdhbWUuc3RhdGUuYWRkKCdNZW51JywgTWVudSk7XHJcbmdhbWUuc3RhdGUuYWRkKCdTZXR0aW5ncycsIFNldHRpbmdzKTtcclxuZ2FtZS5zdGF0ZS5hZGQoJ0xldmVsJywgTGV2ZWwpO1xyXG5nYW1lLnN0YXRlLmFkZCgnTGV2ZWxNYW5hZ2VyJywgTGV2ZWxNYW5hZ2VyKTtcclxuZ2FtZS5zdGF0ZS5hZGQoJ1ByZWxvYWQnLCBQcmVsb2FkKTtcclxuZ2FtZS5zdGF0ZS5hZGQoJ0Jvb3QnLCBCb290LCB0cnVlKTtcclxuIl19
},{"./states/Boot.js":6,"./states/Level.js":7,"./states/LevelManager.js":8,"./states/Menu.js":9,"./states/Preload.js":10,"./states/Settings.js":11}],6:[function(require,module,exports){
class Boot {
	constructor() {
		this.w = 480;
		this.h = 320;
	}

	create() {
		this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
		this.scale.fullScreenScaleMode = Phaser.ScaleManager.EXACT_FIT;
		this.scale.pageAlignHorizontally = true;
		this.scale.pageAlignVertically = true;
		this.scale.setMaximum();

		this.game.renderer.renderSession.roundPixels = true;
		Phaser.Canvas.setImageRenderingCrisp(this.game.canvas);

		this.state.start('Preload');
	}
}

module.exports = Boot;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJvb3QuanMiXSwibmFtZXMiOlsiQm9vdCIsImNvbnN0cnVjdG9yIiwidyIsImgiLCJjcmVhdGUiLCJzY2FsZSIsInNjYWxlTW9kZSIsIlBoYXNlciIsIlNjYWxlTWFuYWdlciIsIlNIT1dfQUxMIiwiZnVsbFNjcmVlblNjYWxlTW9kZSIsIkVYQUNUX0ZJVCIsInBhZ2VBbGlnbkhvcml6b250YWxseSIsInBhZ2VBbGlnblZlcnRpY2FsbHkiLCJzZXRNYXhpbXVtIiwiZ2FtZSIsInJlbmRlcmVyIiwicmVuZGVyU2Vzc2lvbiIsInJvdW5kUGl4ZWxzIiwiQ2FudmFzIiwic2V0SW1hZ2VSZW5kZXJpbmdDcmlzcCIsImNhbnZhcyIsInN0YXRlIiwic3RhcnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFOLENBQVc7QUFDVkMsZUFBYztBQUNiLE9BQUtDLENBQUwsR0FBUyxHQUFUO0FBQ0EsT0FBS0MsQ0FBTCxHQUFTLEdBQVQ7QUFDQTs7QUFFREMsVUFBUztBQUNSLE9BQUtDLEtBQUwsQ0FBV0MsU0FBWCxHQUF1QkMsT0FBT0MsWUFBUCxDQUFvQkMsUUFBM0M7QUFDQSxPQUFLSixLQUFMLENBQVdLLG1CQUFYLEdBQWlDSCxPQUFPQyxZQUFQLENBQW9CRyxTQUFyRDtBQUNBLE9BQUtOLEtBQUwsQ0FBV08scUJBQVgsR0FBbUMsSUFBbkM7QUFDQSxPQUFLUCxLQUFMLENBQVdRLG1CQUFYLEdBQWlDLElBQWpDO0FBQ0EsT0FBS1IsS0FBTCxDQUFXUyxVQUFYOztBQUVBLE9BQUtDLElBQUwsQ0FBVUMsUUFBVixDQUFtQkMsYUFBbkIsQ0FBaUNDLFdBQWpDLEdBQStDLElBQS9DO0FBQ0FYLFNBQU9ZLE1BQVAsQ0FBY0Msc0JBQWQsQ0FBcUMsS0FBS0wsSUFBTCxDQUFVTSxNQUEvQzs7QUFFQSxPQUFLQyxLQUFMLENBQVdDLEtBQVgsQ0FBaUIsU0FBakI7QUFDQTtBQWpCUzs7QUFvQlhDLE9BQU9DLE9BQVAsR0FBaUJ6QixJQUFqQiIsImZpbGUiOiJCb290LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQm9vdCB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLncgPSA0ODA7XHJcblx0XHR0aGlzLmggPSAzMjA7XHJcblx0fVxyXG5cclxuXHRjcmVhdGUoKSB7XHJcblx0XHR0aGlzLnNjYWxlLnNjYWxlTW9kZSA9IFBoYXNlci5TY2FsZU1hbmFnZXIuU0hPV19BTEw7XHJcblx0XHR0aGlzLnNjYWxlLmZ1bGxTY3JlZW5TY2FsZU1vZGUgPSBQaGFzZXIuU2NhbGVNYW5hZ2VyLkVYQUNUX0ZJVDtcclxuXHRcdHRoaXMuc2NhbGUucGFnZUFsaWduSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcclxuXHRcdHRoaXMuc2NhbGUucGFnZUFsaWduVmVydGljYWxseSA9IHRydWU7XHJcblx0XHR0aGlzLnNjYWxlLnNldE1heGltdW0oKTtcclxuXHJcblx0XHR0aGlzLmdhbWUucmVuZGVyZXIucmVuZGVyU2Vzc2lvbi5yb3VuZFBpeGVscyA9IHRydWU7XHJcblx0XHRQaGFzZXIuQ2FudmFzLnNldEltYWdlUmVuZGVyaW5nQ3Jpc3AodGhpcy5nYW1lLmNhbnZhcyk7XHJcblxyXG5cdFx0dGhpcy5zdGF0ZS5zdGFydCgnUHJlbG9hZCcpO1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBCb290OyJdfQ==
},{}],7:[function(require,module,exports){
const Player = require('../game/Player.js');
const Enemy = require('../game/Enemy');

class Level {
	constructor() {
		this.level;
	}
	preload() {
		this.load.tilemap('map', '../assets/levels/test/level.json', null, Phaser.Tilemap.TILED_JSON);
	}
	create() {
		// TileMap
		this.map = this.game.add.tilemap('map', 16, 16);
		this.map.addTilesetImage('tilemap');

		this.game.add.tileSprite(0, 0, 10000, 10000, 'bg');
		this.world.setBounds(0, 0, 10000, 10000);

		this.layerMap = this.map.createLayer('map');
		this.layerMap.resizeWorld();

		this.map.setCollisionBetween(72, 79);
		this.map.setCollisionBetween(90, 97);

		// Dead Area
		this.deadRects = [];
		this.map.objects.deadArea.forEach(rect => {
			let rectangle = new Phaser.Rectangle(rect.x, rect.y, rect.width, rect.height);
			this.deadRects.push(rectangle);
		});

		// Patrule Flags
		this.patruleFlags = [];
		this.map.objects.moving.forEach(rect => {
			let rectangle = new Phaser.Rectangle(rect.x, rect.y, rect.width, rect.height);
			this.patruleFlags.push(rectangle);
		});

		// PathFinder
		let arr = this._createWalkableArr(300, [[72, 79], [90, 97]]);
		this.pathfinder = this.game.plugins.add(Phaser.Plugin.PathFinderPlugin);
		this.pathfinder.setGrid(this.map.layers[0].data, arr);

		// Player
		let posPlayer = this.map.objects.player[0];
		this.player = new Player(this, posPlayer.x + posPlayer.width / 2, posPlayer.y + posPlayer.height / 2);

		// Enemies
		this.enemies = this.game.add.group();
		this.map.objects.spawner.forEach(spawn => {
			let enemy = new Enemy(this, spawn.x + spawn.width / 2, spawn.y + spawn.height / 2, spawn.properties.type);
			this.enemies.add(enemy.sprite);
		});
	}

	_createWalkableArr(all, ranges) {
		let result = [];

		for (let i = 0; i < all; i++) {
			let isWalkable = false;
			for (let j = 0; j < ranges.length; j++) {
				if (i >= ranges[j][0] && i <= ranges[j][1]) {
					isWalkable = false;
					break;
				}
				isWalkable = true;
			}
			isWalkable && result.push(i);
		}
		return result;
	}

	update() {
		this.player.update();

		for (let i = 0; i < this.enemies.children.length; i++) {
			this.enemies.children[i].class.update();
		}
	}
}

module.exports = Level;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxldmVsLmpzIl0sIm5hbWVzIjpbIlBsYXllciIsInJlcXVpcmUiLCJFbmVteSIsIkxldmVsIiwiY29uc3RydWN0b3IiLCJsZXZlbCIsInByZWxvYWQiLCJsb2FkIiwidGlsZW1hcCIsIlBoYXNlciIsIlRpbGVtYXAiLCJUSUxFRF9KU09OIiwiY3JlYXRlIiwibWFwIiwiZ2FtZSIsImFkZCIsImFkZFRpbGVzZXRJbWFnZSIsInRpbGVTcHJpdGUiLCJ3b3JsZCIsInNldEJvdW5kcyIsImxheWVyTWFwIiwiY3JlYXRlTGF5ZXIiLCJyZXNpemVXb3JsZCIsInNldENvbGxpc2lvbkJldHdlZW4iLCJkZWFkUmVjdHMiLCJvYmplY3RzIiwiZGVhZEFyZWEiLCJmb3JFYWNoIiwicmVjdCIsInJlY3RhbmdsZSIsIlJlY3RhbmdsZSIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJwdXNoIiwicGF0cnVsZUZsYWdzIiwibW92aW5nIiwiYXJyIiwiX2NyZWF0ZVdhbGthYmxlQXJyIiwicGF0aGZpbmRlciIsInBsdWdpbnMiLCJQbHVnaW4iLCJQYXRoRmluZGVyUGx1Z2luIiwic2V0R3JpZCIsImxheWVycyIsImRhdGEiLCJwb3NQbGF5ZXIiLCJwbGF5ZXIiLCJlbmVtaWVzIiwiZ3JvdXAiLCJzcGF3bmVyIiwic3Bhd24iLCJlbmVteSIsInByb3BlcnRpZXMiLCJ0eXBlIiwic3ByaXRlIiwiYWxsIiwicmFuZ2VzIiwicmVzdWx0IiwiaSIsImlzV2Fsa2FibGUiLCJqIiwibGVuZ3RoIiwidXBkYXRlIiwiY2hpbGRyZW4iLCJjbGFzcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFNBQVNDLFFBQVEsbUJBQVIsQ0FBZjtBQUNBLE1BQU1DLFFBQVFELFFBQVEsZUFBUixDQUFkOztBQUVBLE1BQU1FLEtBQU4sQ0FBWTtBQUNYQyxlQUFjO0FBQ2IsT0FBS0MsS0FBTDtBQUNBO0FBQ0RDLFdBQVU7QUFDVCxPQUFLQyxJQUFMLENBQVVDLE9BQVYs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M0VVOztBQStFWkcsT0FBT0MsT0FBUCxHQUFpQmpFLEtBQWpCIiwiZmlsZSI6IkxldmVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUGxheWVyID0gcmVxdWlyZSgnLi4vZ2FtZS9QbGF5ZXIuanMnKTtcclxuY29uc3QgRW5lbXkgPSByZXF1aXJlKCcuLi9nYW1lL0VuZW15Jyk7XHJcblxyXG5jbGFzcyBMZXZlbCB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLmxldmVsO1xyXG5cdH1cclxuXHRwcmVsb2FkKCkge1xyXG5cdFx0dGhpcy5sb2FkLnRpbGVtYXAoJ21hcCcsICcuLi9hc3NldHMvbGV2ZWxzL3Rlc3QvbGV2ZWwuanNvbicsIG51bGwsIFBoYXNlci5UaWxlbWFwLlRJTEVEX0pTT04pO1xyXG5cdH1cclxuXHRjcmVhdGUoKSB7XHJcblx0XHQvLyBUaWxlTWFwXHJcblx0XHR0aGlzLm1hcCA9IHRoaXMuZ2FtZS5hZGQudGlsZW1hcCgnbWFwJywgMTYsIDE2KTtcclxuXHRcdHRoaXMubWFwLmFkZFRpbGVzZXRJbWFnZSgndGlsZW1hcCcpO1xyXG5cclxuXHRcdHRoaXMuZ2FtZS5hZGQudGlsZVNwcml0ZSgwLCAwLCAxMDAwMCwgMTAwMDAsICdiZycpO1xyXG5cdFx0dGhpcy53b3JsZC5zZXRCb3VuZHMoMCwgMCwgMTAwMDAsIDEwMDAwKTtcclxuXHJcblx0XHR0aGlzLmxheWVyTWFwID0gdGhpcy5tYXAuY3JlYXRlTGF5ZXIoJ21hcCcpO1xyXG5cdFx0dGhpcy5sYXllck1hcC5yZXNpemVXb3JsZCgpO1xyXG5cdFx0XHJcblx0XHR0aGlzLm1hcC5zZXRDb2xsaXNpb25CZXR3ZWVuKDcyLCA3OSk7XHJcblx0XHR0aGlzLm1hcC5zZXRDb2xsaXNpb25CZXR3ZWVuKDkwLCA5Nyk7XHJcblxyXG5cdFx0Ly8gRGVhZCBBcmVhXHJcblx0XHR0aGlzLmRlYWRSZWN0cyA9IFtdO1xyXG5cdFx0dGhpcy5tYXAub2JqZWN0cy5kZWFkQXJlYS5mb3JFYWNoKChyZWN0KSA9PiB7XHJcblx0XHRcdGxldCByZWN0YW5nbGUgPSBuZXcgUGhhc2VyLlJlY3RhbmdsZShyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpXHJcblx0XHRcdHRoaXMuZGVhZFJlY3RzLnB1c2gocmVjdGFuZ2xlKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFBhdHJ1bGUgRmxhZ3NcclxuXHRcdHRoaXMucGF0cnVsZUZsYWdzID0gW107XHJcblx0XHR0aGlzLm1hcC5vYmplY3RzLm1vdmluZy5mb3JFYWNoKChyZWN0KSA9PiB7XHJcblx0XHRcdGxldCByZWN0YW5nbGUgPSBuZXcgUGhhc2VyLlJlY3RhbmdsZShyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpXHJcblx0XHRcdHRoaXMucGF0cnVsZUZsYWdzLnB1c2gocmVjdGFuZ2xlKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFBhdGhGaW5kZXJcclxuXHRcdGxldCBhcnIgPSB0aGlzLl9jcmVhdGVXYWxrYWJsZUFycigzMDAsIFtbNzIsIDc5XSwgWzkwLCA5N11dKTtcclxuXHRcdHRoaXMucGF0aGZpbmRlciA9IHRoaXMuZ2FtZS5wbHVnaW5zLmFkZChQaGFzZXIuUGx1Z2luLlBhdGhGaW5kZXJQbHVnaW4pO1xyXG5cdFx0dGhpcy5wYXRoZmluZGVyLnNldEdyaWQodGhpcy5tYXAubGF5ZXJzWzBdLmRhdGEsIGFycik7XHJcblxyXG5cdFx0Ly8gUGxheWVyXHJcblx0XHRsZXQgcG9zUGxheWVyID0gdGhpcy5tYXAub2JqZWN0cy5wbGF5ZXJbMF07XHJcblx0XHR0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIodGhpcywgcG9zUGxheWVyLngrcG9zUGxheWVyLndpZHRoLzIsIHBvc1BsYXllci55K3Bvc1BsYXllci5oZWlnaHQvMik7XHJcblx0XHRcclxuXHRcdC8vIEVuZW1pZXNcclxuXHRcdHRoaXMuZW5lbWllcyA9IHRoaXMuZ2FtZS5hZGQuZ3JvdXAoKTtcclxuXHRcdHRoaXMubWFwLm9iamVjdHMuc3Bhd25lci5mb3JFYWNoKChzcGF3bikgPT4ge1xyXG5cdFx0XHRsZXQgZW5lbXkgPSBuZXcgRW5lbXkodGhpcywgc3Bhd24ueCtzcGF3bi53aWR0aC8yLCBzcGF3bi55K3NwYXduLmhlaWdodC8yLCBzcGF3bi5wcm9wZXJ0aWVzLnR5cGUpO1xyXG5cdFx0XHR0aGlzLmVuZW1pZXMuYWRkKGVuZW15LnNwcml0ZSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdF9jcmVhdGVXYWxrYWJsZUFycihhbGwsIHJhbmdlcykge1xyXG5cdFx0bGV0IHJlc3VsdCA9IFtdO1xyXG5cclxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCBhbGw7IGkrKykge1xyXG5cdFx0XHRsZXQgaXNXYWxrYWJsZSA9IGZhbHNlO1xyXG5cdFx0XHRmb3IobGV0IGogPSAwOyBqIDwgcmFuZ2VzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0aWYoaSA+PSByYW5nZXNbal1bMF0gJiYgaSA8PSByYW5nZXNbal1bMV0pIHtcclxuXHRcdFx0XHRcdGlzV2Fsa2FibGUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpc1dhbGthYmxlID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpc1dhbGthYmxlICYmIHJlc3VsdC5wdXNoKGkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZSgpIHtcclxuXHRcdHRoaXMucGxheWVyLnVwZGF0ZSgpO1xyXG5cclxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmVuZW1pZXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5lbmVtaWVzLmNoaWxkcmVuW2ldLmNsYXNzLnVwZGF0ZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTGV2ZWw7Il19
},{"../game/Enemy":1,"../game/Player.js":3}],8:[function(require,module,exports){
class LevelManager {
	constructor(game) {
		this.level;
	}
	create() {
		this.stage.backgroundColor = '#FD4F4F';

		// this.label = this.add.bitmapText(200, 100, 'font', 'level select', 64);

		this.buttonsLevelSelect = this.add.group();
		for (let x = 0; x < 8; x++) {
			for (let y = 0; y < 4; y++) {
				let btn = this.add.button(45 * x + 50, 45 * y + 50, 'null', this.goLevel, this);
				this.buttonsLevelSelect.add(btn);
			}
		}
		this.buttonsLevelSelect.x = this.world.centerX - 30 * 8 + 10;
	}

	goLevel(i) {
		this.state.start('Level');
	}
}

module.exports = LevelManager;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxldmVsTWFuYWdlci5qcyJdLCJuYW1lcyI6WyJMZXZlbE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImdhbWUiLCJsZXZlbCIsImNyZWF0ZSIsInN0YWdlIiwiYmFja2dyb3VuZENvbG9yIiwiYnV0dG9uc0xldmVsU2VsZWN0IiwiYWRkIiwiZ3JvdXAiLCJ4IiwieSIsImJ0biIsImJ1dHRvbiIsImdvTGV2ZWwiLCJ3b3JsZCIsImNlbnRlclgiLCJpIiwic3RhdGUiLCJzdGFydCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFlBQU4sQ0FBbUI7QUFDbEJDLGFBQVlDLElBQVosRUFBa0I7QUFDakIsT0FBS0MsS0FBTDtBQUNBO0FBQ0RDLFVBQVM7QUFDUixPQUFLQyxLQUFMLENBQVdDLGVBQVgsR0FBNkIsU0FBN0I7O0FBRUE7O0FBRUEsT0FBS0Msa0JBQUwsR0FBMEIsS0FBS0MsR0FBTCxDQUFTQyxLQUFULEVBQTFCO0FBQ0EsT0FBSSxJQUFJQyxJQUFJLENBQVosRUFBZUEsSUFBSSxDQUFuQixFQUFzQkEsR0FBdEIsRUFBMkI7QUFDMUIsUUFBSSxJQUFJQyxJQUFJLENBQVosRUFBZUEsSUFBSSxDQUFuQixFQUFzQkEsR0FBdEIsRUFBMkI7QUFDMUIsUUFBSUMsTUFBTSxLQUFLSixHQUFMLENBQVNLLE1BQVQsQ0FBZ0IsS0FBR0gsQ0FBSCxHQUFLLEVBQXJCLEVBQXlCLEtBQUdDLENBQUgsR0FBSyxFQUE5QixFQUFrQyxNQUFsQyxFQUEwQyxLQUFLRyxPQUEvQyxFQUF3RCxJQUF4RCxDQUFWO0FBQ0EsU0FBS1Asa0JBQUwsQ0FBd0JDLEdBQXhCLENBQTRCSSxHQUE1QjtBQUNBO0FBQ0Q7QUFDRCxPQUFLTCxrQkFBTCxDQUF3QkcsQ0FBeEIsR0FBNEIsS0FBS0ssS0FBTCxDQUFXQyxPQUFYLEdBQW1CLEtBQUcsQ0FBdEIsR0FBd0IsRUFBcEQ7QUFDQTs7QUFFREYsU0FBUUcsQ0FBUixFQUFXO0FBQ1YsT0FBS0MsS0FBTCxDQUFXQyxLQUFYLENBQWlCLE9BQWpCO0FBQ0E7QUFyQmlCOztBQXdCbkJDLE9BQU9DLE9BQVAsR0FBaUJyQixZQUFqQiIsImZpbGUiOiJMZXZlbE1hbmFnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBMZXZlbE1hbmFnZXIge1xyXG5cdGNvbnN0cnVjdG9yKGdhbWUpIHtcclxuXHRcdHRoaXMubGV2ZWw7XHJcblx0fVxyXG5cdGNyZWF0ZSgpIHtcclxuXHRcdHRoaXMuc3RhZ2UuYmFja2dyb3VuZENvbG9yID0gJyNGRDRGNEYnO1xyXG5cclxuXHRcdC8vIHRoaXMubGFiZWwgPSB0aGlzLmFkZC5iaXRtYXBUZXh0KDIwMCwgMTAwLCAnZm9udCcsICdsZXZlbCBzZWxlY3QnLCA2NCk7XHJcblxyXG5cdFx0dGhpcy5idXR0b25zTGV2ZWxTZWxlY3QgPSB0aGlzLmFkZC5ncm91cCgpO1xyXG5cdFx0Zm9yKGxldCB4ID0gMDsgeCA8IDg7IHgrKykge1xyXG5cdFx0XHRmb3IobGV0IHkgPSAwOyB5IDwgNDsgeSsrKSB7XHJcblx0XHRcdFx0bGV0IGJ0biA9IHRoaXMuYWRkLmJ1dHRvbig0NSp4KzUwLCA0NSp5KzUwLCAnbnVsbCcsIHRoaXMuZ29MZXZlbCwgdGhpcyk7XHJcblx0XHRcdFx0dGhpcy5idXR0b25zTGV2ZWxTZWxlY3QuYWRkKGJ0bik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuYnV0dG9uc0xldmVsU2VsZWN0LnggPSB0aGlzLndvcmxkLmNlbnRlclgtMzAqOCsxMDtcclxuXHR9XHJcblxyXG5cdGdvTGV2ZWwoaSkge1xyXG5cdFx0dGhpcy5zdGF0ZS5zdGFydCgnTGV2ZWwnKTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTGV2ZWxNYW5hZ2VyOyJdfQ==
},{}],9:[function(require,module,exports){
class Menu {
	constructor() {}
	create() {
		this.stage.backgroundColor = '#6BADFF';

		// this.label = this.add.retroFont('font', 31, 25, Phaser.RetroFont.TEXT_SET6, 10, 1, 1);
		// this.label.text = 'menu';

		// this.labelBtnStart = this.add.retroFont('font', 31, 25, Phaser.RetroFont.TEXT_SET6, 10, 1, 1);
		// this.labelBtnStart.text = 'START';
		// this.labelBtnStart.x = this.world.centerX;
		// this.labelBtnStart.y = this.world.centerY;
		this.btnStart = this.add.button(this.world.centerX, this.world.centerY - 20, 'null', this.goLevelManager, this);
		this.btnStart.width = 200;
		this.btnStart.height = 80;
		this.btnStart.anchor.set(0.5, 0.5);
	}

	goLevelManager() {
		this.state.start('LevelManager');
	}
}

module.exports = Menu;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lbnUuanMiXSwibmFtZXMiOlsiTWVudSIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwic3RhZ2UiLCJiYWNrZ3JvdW5kQ29sb3IiLCJidG5TdGFydCIsImFkZCIsImJ1dHRvbiIsIndvcmxkIiwiY2VudGVyWCIsImNlbnRlclkiLCJnb0xldmVsTWFuYWdlciIsIndpZHRoIiwiaGVpZ2h0IiwiYW5jaG9yIiwic2V0Iiwic3RhdGUiLCJzdGFydCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQU4sQ0FBVztBQUNWQyxlQUFjLENBRWI7QUFDREMsVUFBUztBQUNSLE9BQUtDLEtBQUwsQ0FBV0MsZUFBWCxHQUE2QixTQUE3Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBS0MsUUFBTCxHQUFnQixLQUFLQyxHQUFMLENBQVNDLE1BQVQsQ0FBZ0IsS0FBS0MsS0FBTCxDQUFXQyxPQUEzQixFQUFvQyxLQUFLRCxLQUFMLENBQVdFLE9BQVgsR0FBbUIsRUFBdkQsRUFBMkQsTUFBM0QsRUFBbUUsS0FBS0MsY0FBeEUsRUFBd0YsSUFBeEYsQ0FBaEI7QUFDQSxPQUFLTixRQUFMLENBQWNPLEtBQWQsR0FBc0IsR0FBdEI7QUFDQSxPQUFLUCxRQUFMLENBQWNRLE1BQWQsR0FBdUIsRUFBdkI7QUFDQSxPQUFLUixRQUFMLENBQWNTLE1BQWQsQ0FBcUJDLEdBQXJCLENBQXlCLEdBQXpCLEVBQThCLEdBQTlCO0FBQ0E7O0FBRURKLGtCQUFpQjtBQUNoQixPQUFLSyxLQUFMLENBQVdDLEtBQVgsQ0FBaUIsY0FBakI7QUFDQTtBQXRCUzs7QUF5QlhDLE9BQU9DLE9BQVAsR0FBaUJuQixJQUFqQiIsImZpbGUiOiJNZW51LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTWVudSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblxyXG5cdH1cclxuXHRjcmVhdGUoKSB7XHJcblx0XHR0aGlzLnN0YWdlLmJhY2tncm91bmRDb2xvciA9ICcjNkJBREZGJztcclxuXHJcblx0XHQvLyB0aGlzLmxhYmVsID0gdGhpcy5hZGQucmV0cm9Gb250KCdmb250JywgMzEsIDI1LCBQaGFzZXIuUmV0cm9Gb250LlRFWFRfU0VUNiwgMTAsIDEsIDEpO1xyXG5cdFx0Ly8gdGhpcy5sYWJlbC50ZXh0ID0gJ21lbnUnO1xyXG5cclxuXHRcdC8vIHRoaXMubGFiZWxCdG5TdGFydCA9IHRoaXMuYWRkLnJldHJvRm9udCgnZm9udCcsIDMxLCAyNSwgUGhhc2VyLlJldHJvRm9udC5URVhUX1NFVDYsIDEwLCAxLCAxKTtcclxuXHRcdC8vIHRoaXMubGFiZWxCdG5TdGFydC50ZXh0ID0gJ1NUQVJUJztcclxuXHRcdC8vIHRoaXMubGFiZWxCdG5TdGFydC54ID0gdGhpcy53b3JsZC5jZW50ZXJYO1xyXG5cdFx0Ly8gdGhpcy5sYWJlbEJ0blN0YXJ0LnkgPSB0aGlzLndvcmxkLmNlbnRlclk7XHJcblx0XHR0aGlzLmJ0blN0YXJ0ID0gdGhpcy5hZGQuYnV0dG9uKHRoaXMud29ybGQuY2VudGVyWCwgdGhpcy53b3JsZC5jZW50ZXJZLTIwLCAnbnVsbCcsIHRoaXMuZ29MZXZlbE1hbmFnZXIsIHRoaXMpO1xyXG5cdFx0dGhpcy5idG5TdGFydC53aWR0aCA9IDIwMDtcclxuXHRcdHRoaXMuYnRuU3RhcnQuaGVpZ2h0ID0gODA7XHJcblx0XHR0aGlzLmJ0blN0YXJ0LmFuY2hvci5zZXQoMC41LCAwLjUpO1xyXG5cdH1cclxuXHJcblx0Z29MZXZlbE1hbmFnZXIoKSB7XHJcblx0XHR0aGlzLnN0YXRlLnN0YXJ0KCdMZXZlbE1hbmFnZXInKTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTWVudTsiXX0=
},{}],10:[function(require,module,exports){
class Preload {
	constructor() {}
	preload() {
		this.stage.backgroundColor = '#FFA66A';

		this.load.image('bg', '../assets/bg.png');
		this.load.image('tilemap', '../assets/levels/tilemap.png');
		this.load.image('font', '../assets/font.png');

		this.load.atlas('heads', 'assets/atlases/heads.png', 'assets/atlases/heads.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('bodies', 'assets/atlases/bodies.png', 'assets/atlases/bodies.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('attachToBody', 'assets/atlases/attachToBody.png', 'assets/atlases/attachToBody.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('weapons', 'assets/atlases/weapons.png', 'assets/atlases/weapons.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('items', 'assets/atlases/items.png', 'assets/atlases/items.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
		this.load.atlas('bullets', 'assets/atlases/bullets.png', 'assets/atlases/bullets.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
	}

	create() {
		this.state.start('Menu');
		// Debug!!!
		// this.state.start('Level');
	}
}

module.exports = Preload;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByZWxvYWQuanMiXSwibmFtZXMiOlsiUHJlbG9hZCIsImNvbnN0cnVjdG9yIiwicHJlbG9hZCIsInN0YWdlIiwiYmFja2dyb3VuZENvbG9yIiwibG9hZCIsImltYWdlIiwiYXRsYXMiLCJQaGFzZXIiLCJMb2FkZXIiLCJURVhUVVJFX0FUTEFTX0pTT05fSEFTSCIsImNyZWF0ZSIsInN0YXRlIiwic3RhcnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFOLENBQWM7QUFDYkMsZUFBYyxDQUViO0FBQ0RDLFdBQVU7QUFDVCxPQUFLQyxLQUFMLENBQVdDLGVBQVgsR0FBNkIsU0FBN0I7O0FBRUEsT0FBS0MsSUFBTCxDQUFVQyxLQUFWLENBQWdCLElBQWhCLEVBQXNCLGtCQUF0QjtBQUNBLE9BQUtELElBQUwsQ0FBVUMsS0FBVixDQUFnQixTQUFoQixFQUEyQiw4QkFBM0I7QUFDQSxPQUFLRCxJQUFMLENBQVVDLEtBQVYsQ0FBZ0IsTUFBaEIsRUFBd0Isb0JBQXhCOztBQUVBLE9BQUtELElBQUwsQ0FBVUUsS0FBVixDQUFnQixPQUFoQixFQUF5QiwwQkFBekIsRUFBcUQsMkJBQXJELEVBQWtGQyxPQUFPQyxNQUFQLENBQWNDLHVCQUFoRztBQUNBLE9BQUtMLElBQUwsQ0FBVUUsS0FBVixDQUFnQixRQUFoQixFQUEwQiwyQkFBMUIsRUFBdUQsNEJBQXZELEVBQXFGQyxPQUFPQyxNQUFQLENBQWNDLHVCQUFuRztBQUNBLE9BQUtMLElBQUwsQ0FBVUUsS0FBVixDQUFnQixjQUFoQixFQUFnQyxpQ0FBaEMsRUFBbUUsa0NBQW5FLEVBQXVHQyxPQUFPQyxNQUFQLENBQWNDLHVCQUFySDtBQUNBLE9BQUtMLElBQUwsQ0FBVUUsS0FBVixDQUFnQixTQUFoQixFQUEyQiw0QkFBM0IsRUFBeUQsNkJBQXpELEVBQXdGQyxPQUFPQyxNQUFQLENBQWNDLHVCQUF0RztBQUNBLE9BQUtMLElBQUwsQ0FBVUUsS0FBVixDQUFnQixPQUFoQixFQUF5QiwwQkFBekIsRUFBcUQsMkJBQXJELEVBQWtGQyxPQUFPQyxNQUFQLENBQWNDLHVCQUFoRztBQUNBLE9BQUtMLElBQUwsQ0FBVUUsS0FBVixDQUFnQixTQUFoQixFQUEyQiw0QkFBM0IsRUFBeUQsNkJBQXpELEVBQXdGQyxPQUFPQyxNQUFQLENBQWNDLHVCQUF0RztBQUNBOztBQUVEQyxVQUFTO0FBQ1IsT0FBS0MsS0FBTCxDQUFXQyxLQUFYLENBQWlCLE1BQWpCO0FBQ0E7QUFDQTtBQUNBO0FBdkJZOztBQTBCZEMsT0FBT0MsT0FBUCxHQUFpQmYsT0FBakIiLCJmaWxlIjoiUHJlbG9hZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFByZWxvYWQge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cclxuXHR9XHJcblx0cHJlbG9hZCgpIHtcclxuXHRcdHRoaXMuc3RhZ2UuYmFja2dyb3VuZENvbG9yID0gJyNGRkE2NkEnO1xyXG5cclxuXHRcdHRoaXMubG9hZC5pbWFnZSgnYmcnLCAnLi4vYXNzZXRzL2JnLnBuZycpO1xyXG5cdFx0dGhpcy5sb2FkLmltYWdlKCd0aWxlbWFwJywgJy4uL2Fzc2V0cy9sZXZlbHMvdGlsZW1hcC5wbmcnKTtcclxuXHRcdHRoaXMubG9hZC5pbWFnZSgnZm9udCcsICcuLi9hc3NldHMvZm9udC5wbmcnKTtcclxuXHJcblx0XHR0aGlzLmxvYWQuYXRsYXMoJ2hlYWRzJywgJ2Fzc2V0cy9hdGxhc2VzL2hlYWRzLnBuZycsICdhc3NldHMvYXRsYXNlcy9oZWFkcy5qc29uJywgUGhhc2VyLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fSEFTSCk7XHJcblx0XHR0aGlzLmxvYWQuYXRsYXMoJ2JvZGllcycsICdhc3NldHMvYXRsYXNlcy9ib2RpZXMucG5nJywgJ2Fzc2V0cy9hdGxhc2VzL2JvZGllcy5qc29uJywgUGhhc2VyLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fSEFTSCk7XHJcblx0XHR0aGlzLmxvYWQuYXRsYXMoJ2F0dGFjaFRvQm9keScsICdhc3NldHMvYXRsYXNlcy9hdHRhY2hUb0JvZHkucG5nJywgJ2Fzc2V0cy9hdGxhc2VzL2F0dGFjaFRvQm9keS5qc29uJywgUGhhc2VyLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fSEFTSCk7XHJcblx0XHR0aGlzLmxvYWQuYXRsYXMoJ3dlYXBvbnMnLCAnYXNzZXRzL2F0bGFzZXMvd2VhcG9ucy5wbmcnLCAnYXNzZXRzL2F0bGFzZXMvd2VhcG9ucy5qc29uJywgUGhhc2VyLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fSEFTSCk7XHJcblx0XHR0aGlzLmxvYWQuYXRsYXMoJ2l0ZW1zJywgJ2Fzc2V0cy9hdGxhc2VzL2l0ZW1zLnBuZycsICdhc3NldHMvYXRsYXNlcy9pdGVtcy5qc29uJywgUGhhc2VyLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fSEFTSCk7XHJcblx0XHR0aGlzLmxvYWQuYXRsYXMoJ2J1bGxldHMnLCAnYXNzZXRzL2F0bGFzZXMvYnVsbGV0cy5wbmcnLCAnYXNzZXRzL2F0bGFzZXMvYnVsbGV0cy5qc29uJywgUGhhc2VyLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fSEFTSCk7XHJcblx0fVxyXG5cclxuXHRjcmVhdGUoKSB7XHJcblx0XHR0aGlzLnN0YXRlLnN0YXJ0KCdNZW51Jyk7XHJcblx0XHQvLyBEZWJ1ZyEhIVxyXG5cdFx0Ly8gdGhpcy5zdGF0ZS5zdGFydCgnTGV2ZWwnKTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUHJlbG9hZDsiXX0=
},{}],11:[function(require,module,exports){
class Settings {
	constructor() {}

	create() {}

}

module.exports = Settings;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNldHRpbmdzLmpzIl0sIm5hbWVzIjpbIlNldHRpbmdzIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFOLENBQWU7QUFDZEMsZUFBYyxDQUViOztBQUVEQyxVQUFTLENBRVI7O0FBUGE7O0FBV2ZDLE9BQU9DLE9BQVAsR0FBaUJKLFFBQWpCIiwiZmlsZSI6IlNldHRpbmdzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU2V0dGluZ3Mge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cclxuXHR9XHJcblxyXG5cdGNyZWF0ZSgpIHtcclxuXHJcblx0fVxyXG5cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBTZXR0aW5nczsiXX0=
},{}]},{},[5])